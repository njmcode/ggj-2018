{"version":3,"sources":["webpack:///index.bundle.js","webpack:///webpack/bootstrap 577e14fb55137162b770","webpack:///./src/data/events.js","webpack:///./src/shared/main.css","webpack:///./node_modules/is-function/index.js","webpack:///./src/app/style.css","webpack:///./src/data/gamescript.js","webpack:///./src/modules/chat/chat.css","webpack:///./src/modules/media/media.css","webpack:///./src/index.js","webpack:///./node_modules/xhr/index.js","webpack:///./node_modules/global/window.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/parse-headers/parse-headers.js","webpack:///./node_modules/trim/index.js","webpack:///./node_modules/for-each/index.js","webpack:///./node_modules/xtend/immutable.js","webpack:///./src/manifest.json","webpack:///./src/favicon.gif","webpack:///./src/game.html","webpack:///./src/app/index.js","webpack:///./src/shared/utils.js","webpack:///./src/app/template.js","webpack:///./src/core/Emitter.js","webpack:///./src/core/SoundPlayer.js","webpack:///./src/app/GameState.js","webpack:///./src/core/ScriptReader.js","webpack:///./src/modules/chat/ChatTab.js","webpack:///./src/modules/chat/template.js","webpack:///./src/modules/media/MediaTab.js","webpack:///./src/modules/media/template.js","webpack:///./src/data/media.js","webpack:///./src/assets/location1.jpg","webpack:///./src/assets/location2.jpg","webpack:///./src/assets/location3.jpg","webpack:///./src/assets/location4.jpg","webpack:///./src/assets/location5.jpg","webpack:///./src/data/sounds.js","webpack:///./src/assets/appstart.mp3","webpack:///./src/assets/fail1.mp3","webpack:///./src/assets/intro1.mp3","webpack:///./src/assets/not1.mp3"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","EVT_MESSAGE_RECEIVED","EVT_CHOICES_RECEIVED","EVT_SEND_INITIAL_PHOTOS","EVT_CHOICE_SELECTED","EVT_PUZZLE_SUCCESS","EVT_PUZZLE_DATA_SENT","EVT_PUZZLE_FAIL","EVT_ADVANCE_GAME_STATE","EVT_TAB_NOTIFY","EVT_PUZZLE_FIRST_OPEN","EVT_FAILGAME","EVT_PLAY_SOUND","EVT_IMPATIENT_TAP","hidden","isFunction","fn","string","toString","window","setTimeout","alert","confirm","prompt","winBlue","appWrapper","appHeader","closeBut","tabNav","activeTab","visibleTab","tabNotify","appTabWindow","appTabWrapper","activeContent","appFooter","CHAT_B","CHAT_A","undefined","_events","Events","obj","newObj","key","default","chapters","intro1","chat","text","choices","goto","activated","noquestions","event","tutorial","firstpuzzlecomplete","firstpuzzlesent","EVT_FIRST_NEWS_ARTICLE","strangepackage","donotread","understoodrisk","yourownrisk","thewarning","EVT_SECOND_NEWS_ARTICLE","readfile","foolish","oddsignal","wisechoice","EVT_THIRD_NEWS_ARTICLE","goingon","unwisechoice","trust","helloagents","agentb1","agentr1","EVT_FOURTH_NEWS_ARTICLE","bluepacket","EVT_FIFTHB_NEWS_ARTICLE","redpacket","EVT_FIFTHR_NEWS_ARTICLE","failstate1","failstate2","failstate3","tempwin","chatBlue","chatGreen","chatRed","conversationPanel","msgPanel","msg","reveal","agentA","agentB","player","choicePanel","choiceButton","mediaPanel","mediaList","imageThumbnail","unavailable","mediaDetail","mediaPacket","formRow","packetHeader","errorMsg","complete","monochrome","_interopRequireDefault","startGame","isQuickPlay","arguments","length","console","info","quickPlay","document","querySelector","style","display","_app2","start","_request","_request2","_app","splashEl","customEl","storyButEl","quickButEl","location","hash","substr","cfgBase","cfgUrl","atob","innerHTML","err","resp","body","customData","JSON","parse","meta","title","author","e","warn","addEventListener","isEmpty","initParams","uri","options","callback","params","xtend","createXHR","_createXHR","readystatechange","xhr","readyState","loadFunc","getBody","response","responseText","getXml","isJson","errorFunc","evt","clearTimeout","timeoutTimer","Error","statusCode","failureResponse","aborted","status","useXDR","method","headers","url","rawRequest","getAllResponseHeaders","parseHeaders","called","cors","XDomainRequest","XMLHttpRequest","data","sync","json","stringify","onreadystatechange","onload","onerror","onprogress","onabort","ontimeout","open","username","password","withCredentials","timeout","abort","code","setRequestHeader","responseType","beforeSend","send","responseXML","firefoxBugTakenEffect","documentElement","nodeName","noop","array","iterator","toUpperCase","global","win","self","g","this","Function","eval","trim","forEach","isArray","arg","result","split","row","index","indexOf","slice","toLowerCase","push","str","replace","left","right","list","context","TypeError","forEachArray","forEachString","forEachObject","len","charAt","k","extend","target","source","_classCallCheck","instance","Constructor","_createClass","defineProperties","props","descriptor","writable","protoProps","staticProps","_utils","_template","_template2","_style","_style2","_Emitter","_Emitter2","_SoundPlayer","_SoundPlayer2","_GameState","_GameState2","_ChatTab","_ChatTab2","_MediaTab","_MediaTab2","_gamescript","_sounds","_sounds2","App","initialTabId","appEl","tabData","id","label","visible","tabDataIds","map","td","soundplayer","log","emitter","gamestate","_this","el","dom","appendChild","closeButEl","reload","navEl","contentEl","tdata","idx","tabNavEl","createElement","textContent","dataset","tabId","classList","add","t","srcElement","setActiveTab","_navEl","tabWrapEl","tabContentEl","template","_wrapEl","_contentEl","init","bind","soundId","play","setTabNotification","dispatch","tidx","tab","remove","isVisible","visibleContent","setTabVisibility","tplStr","wrap","content","firstElementChild","Emitter","events","func","ctx","_len","Array","_key","ln","_events$id","apply","SoundPlayer","manifest","sounds","aud","autoplay","controls","loop","src","readystate","_defineProperty","_ScriptReader","_ScriptReader2","_gamescript2","GameState","reader","initialChapter","puzzleChapters","choiceHistory","puzzleAttemptsLeft","totalPuzzles","isQuickplay","_eventBindings","eventBindings","_eventBindings2","puzzleStatus","puzzleID","isComplete","isSent","ev","sendQuickplayNotification","getCompletedPuzzleCount","advance","getNextMsg","msgFn","msgTimeout","filter","choice","startChapter","puzzleId","puzzleIndex","getSentPuzzleDataCount","ScriptReader","script","currentChapter","currentChapterId","chapterLength","currentChapterMsgIdx","_chat","_chat2","ChatTab","chatID","messageLog","convoPanelEl","msgPanelEl","choicePanelEl","handleIncomingMessage","displayChoices","displayMessage","clearChoices","container","isPlayer","scrollTop","scrollHeight","_this2","opt","button","setAttribute","offsetHeight","_media","_media2","_main","_media3","_media4","MediaTab","images","unencrypted","transmittedPackets","closeDetails","checkPasscode","transmitPacket","x","releasePhoto","imgContainer","imgEl","onImageClick","includes","expandPacket","expandDetails","cloneNode","removeChild","lastChild","passcodeEl","passcode","packetEl","payload","closePacket","imgContainersTemplate","_location","_location2","_location3","_location4","_location5","_location6","_location7","_location8","_location9","_location10","_appstart","_appstart2","_fail","_fail2","_intro","_intro2","_not","_not2","appstart","fail1","not1"],"mappings":"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","file":"index.bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Shared event manifest for the entire app to use.\n */\n\nvar EVT_MESSAGE_RECEIVED = exports.EVT_MESSAGE_RECEIVED = 'EVT_MESSAGE_RECEIVED';\nvar EVT_CHOICES_RECEIVED = exports.EVT_CHOICES_RECEIVED = 'EVT_CHOICES_RECEIVED';\nvar EVT_SEND_INITIAL_PHOTOS = exports.EVT_SEND_INITIAL_PHOTOS = 'EVT_SEND_INITIAL_PHOTOS';\nvar EVT_CHOICE_SELECTED = exports.EVT_CHOICE_SELECTED = 'EVT_CHOICE_SELECTED';\nvar EVT_PUZZLE_SUCCESS = exports.EVT_PUZZLE_SUCCESS = 'EVT_PUZZLE_SUCCESS';\nvar EVT_PUZZLE_DATA_SENT = exports.EVT_PUZZLE_DATA_SENT = 'EVT_PUZZLE_DATA_SENT';\nvar EVT_PUZZLE_FAIL = exports.EVT_PUZZLE_FAIL = 'EVT_PUZZLE_FAIL';\nvar EVT_ADVANCE_GAME_STATE = exports.EVT_ADVANCE_GAME_STATE = 'EVT_ADVANCE_GAME_STATE';\nvar EVT_TAB_NOTIFY = exports.EVT_TAB_NOTIFY = 'EVT_TAB_NOTIFY';\nvar EVT_PUZZLE_FIRST_OPEN = exports.EVT_PUZZLE_FIRST_OPEN = 'EVT_PUZZLE_FIRST_OPEN';\nvar EVT_FAILGAME = exports.EVT_FAILGAME = 'EVT_FAILGAME';\nvar EVT_PLAY_SOUND = exports.EVT_PLAY_SOUND = 'EVT_PLAY_SOUND';\nvar EVT_IMPATIENT_TAP = exports.EVT_IMPATIENT_TAP = 'EVT_IMPATIENT_TAP';\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"hidden\":\"shared__main__hidden_116d0f\"};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"winBlue\":\"#2b0081\",\"appWrapper\":\"app__style__appWrapper_51bd3e\",\"appHeader\":\"app__style__appHeader_320435\",\"closeBut\":\"app__style__closeBut_d04839\",\"tabNav\":\"app__style__tabNav_1038d3\",\"activeTab\":\"app__style__activeTab_d5cd6c\",\"visibleTab\":\"app__style__visibleTab_b40f2e\",\"tabNotify\":\"app__style__tabNotify_f5199c\",\"appTabWindow\":\"app__style__appTabWindow_d994a7\",\"appTabWrapper\":\"app__style__appTabWrapper_c83871\",\"activeContent\":\"app__style__activeContent_cc741e\",\"appFooter\":\"app__style__appFooter_413425\"};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CHAT_B = exports.CHAT_A = undefined;\n\nvar _events = __webpack_require__(0);\n\nvar Events = _interopRequireWildcard(_events);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * The game 'script'.\n * Defines 'chapters' of the story made up of a list of\n * chat messages.\n *\n * A message can have the following props:\n *\n *  - chat: which chat window this belongs to\n *  - text: text to be shown for the message\n *  - event: an event which the GameState can fire when this message is received\n *  - choices: an array of options for the player to choose from\n *\n * Choices can have the following:\n *\n *  - text: label for the option\n *  - goto: which chapter ID to go to when this option is selected\n *\n */\n\nvar CHAT_A = exports.CHAT_A = 'agentA';\nvar CHAT_B = exports.CHAT_B = 'agentB';\n\nexports.default = {\n  chapters: {\n    'intro1': [{\n      chat: CHAT_A,\n      text: '*** INCOMING TRANSMISSION... ***'\n    }, {\n      chat: CHAT_A,\n      text: 'Agent 045, you have now been activated. Please respond.'\n    }, {\n      chat: CHAT_A,\n      choices: [{\n        text: 'Uh, I think you have the wrong number',\n        goto: 'activated'\n      }, {\n        text: 'This is Agent 045, waiting command',\n        goto: 'activated'\n      }]\n    }],\n\n    'activated': [{\n      chat: CHAT_A,\n      text: 'Ah good, you\\'re there. We have a situation here that we need you immediate assistance with.'\n    }, {\n      chat: CHAT_A,\n      text: 'We\\'ve been locked out of remote access points in your area that we need reconnected to asap.'\n    }, {\n      chat: CHAT_A,\n      text: 'We need you to locate the access points, get pass the encryption software, and wire through the information packs directly via uplink.'\n    }, {\n      chat: CHAT_A,\n      text: 'Unfortunately due to the hack, we don\\'t have exact geolocations, only images of the locations in question, but they\\'re all near by and should be easy enough to find, given your familiarity with the area.'\n    }, {\n      chat: CHAT_A,\n      choices: [{\n        text: 'What do you mean by \"the hack\"?',\n        goto: 'noquestions'\n      }, {\n        text: 'What is this?!',\n        goto: 'noquestions'\n      }]\n    }],\n\n    'noquestions': [{\n      chat: CHAT_A,\n      text: 'We don\\'t have time for questions right now Agent 045, please get the information packets as soon as possible. The security of the entire world is at stake.'\n    }, {\n      chat: CHAT_A,\n      text: 'Check your Media tab, there you\\'ll find the 5 remote access points we need you to reconnect to command.',\n      event: Events.EVT_SEND_INITIAL_PHOTOS\n    }, {\n      chat: CHAT_A,\n      text: 'When you find an access point, look for our logo, you\\'ll find a password that you need to input to corresponding photo.'\n    }, {\n      chat: CHAT_A,\n      text: 'We\\'ll contact you again when you\\'ve reached access point 1.'\n    }, {\n      chat: CHAT_A,\n      choices: [{\n        text: 'O...k?',\n        goto: null\n      }, {\n        text: 'Understood command, over and out',\n        goto: null\n      }]\n    }],\n\n    'tutorial': [{\n      chat: CHAT_A,\n      text: 'Well done Agent 045, this is excellent.'\n    }, {\n      chat: CHAT_A,\n      text: 'Now you just have to decode the access to enable us to download the package.'\n    }, {\n      chat: CHAT_A,\n      text: 'It should be extremely straightforward for someone of your elite skill set.'\n    }, {\n      chat: CHAT_A,\n      text: 'Simply slides the blocks into the right location and we should be granted access.'\n    }],\n\n    'firstpuzzlecomplete': [{\n      chat: CHAT_A,\n      text: 'Perfect Agent 045, now please send the information packed to us over your secure network connection.'\n    }],\n\n    'firstpuzzlesent': [{\n      chat: CHAT_A,\n      text: 'Fantastic work Agent 045, please proceed to the next package for more information.',\n      event: Events.EVT_FIRST_NEWS_ARTICLE\n    }],\n\n    'strangepackage': [{\n      chat: CHAT_A,\n      choices: [{\n        text: 'What is this text about?',\n        goto: 'donotread'\n      }, {\n        text: 'Sir, this packet is quite odd…',\n        goto: 'donotread'\n      }]\n    }],\n\n    'donotread': [{\n      chat: CHAT_A,\n      text: 'Agent 045, are you READING the highly CLASSIFIED information in these packets?!'\n    }, {\n      chat: CHAT_A,\n      text: 'Because we need you to access the files to send them to us, you\\'ll inherently gain access, but I am stressing that these are HIGHLY CLASSIFIED FILES.'\n    }, {\n      chat: CHAT_A,\n      text: 'DO NOT READ THEM UNDER ANY CIRCUMSTANCES.'\n    }, {\n      chat: CHAT_A,\n      text: 'IT IS A FEDERAL OFFENCE TO READ THESE FILES WITHOUT THE CORRECT LEVEL OF AUTHORISATION.'\n    }, {\n      chat: CHAT_A,\n      text: 'Do no read the files, just send them straight to us, understand? That\\'s a command soldier.'\n    }, {\n      chat: CHAT_A,\n      choices: [{\n        text: 'Understood sir. ',\n        goto: 'understoodrisk'\n      }, {\n        text: 'Or what?',\n        goto: 'yourownrisk'\n      }]\n    }],\n\n    'understoodrisk': [{\n      chat: CHAT_B,\n      text: 'Agent 045. Do not trust Agent B.'\n    }, {\n      chat: CHAT_B,\n      choices: [{\n        text: 'What to you mean?',\n        goto: 'thewarning'\n      }, {\n        text: 'I have no idea what you\\'re talking about.',\n        goto: 'thewarning'\n      }]\n    }],\n\n    'yourownrisk': [{\n      chat: CHAT_A,\n      text: '…'\n    }, {\n      chat: CHAT_A,\n      text: 'Well, I guess there\\'s nothing we can do, we need those files.'\n    }, {\n      chat: CHAT_A,\n      text: 'Read them at your own risk, just send them to us. We\\'ll sort that issue once we get this resolved.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent 045. Do not trust Agent B.'\n    }, {\n      chat: CHAT_B,\n      choices: [{\n        text: 'What do you mean?',\n        goto: 'thewarning'\n      }, {\n        text: 'I have no idea what you\\'re talking about.',\n        goto: 'thewarning'\n      }]\n    }],\n\n    'thewarning': [{\n      chat: CHAT_B,\n      text: 'You\\'ve been warned.'\n    }, {\n      chat: CHAT_B,\n      choices: [{\n        text: 'Wait! I want to know what\\'s going on!',\n        goto: null\n      }, {\n        text: 'I don\\'t know you, be gone scum.',\n        event: Events.EVT_SECOND_NEWS_ARTICLE,\n        goto: null\n      }]\n    }],\n\n    'readfile': [{\n      chat: CHAT_B,\n      text: 'Read the file.'\n    }, {\n      chat: CHAT_B,\n      text: 'Do you see the kind of information you\\'re dealing with here.'\n    }, {\n      chat: CHAT_B,\n      text: 'Do you really trust this kind of information with Agent B?'\n    }, {\n      chat: CHAT_B,\n      text: 'Do you even know who they are?'\n    }, {\n      chat: CHAT_B,\n      choices: [{\n        text: 'Well who are you then?',\n        goto: 'foolish'\n      }, {\n        text: 'Do you know who they are?',\n        goto: 'foolish'\n      }]\n    }],\n\n    'foolish': [{\n      chat: CHAT_B,\n      text: 'Don\\'t be foolish.'\n    }, {\n      chat: CHAT_B,\n      text: 'Keep your wits about you.'\n    }, {\n      chat: CHAT_B,\n      text: 'Don\\'t blindly do what they tell you too.'\n    }, {\n      chat: CHAT_B,\n      text: 'Don\\'t tell them about our conversation.'\n    }, {\n      chat: CHAT_A,\n      text: 'What was that?'\n    }, {\n      chat: CHAT_A,\n      text: 'Keep your wits about you.'\n    }, {\n      chat: CHAT_A,\n      text: 'Did you do something?'\n    }, {\n      chat: CHAT_A,\n      choices: [{\n        text: 'What do you mean?',\n        goto: 'oddsignal'\n      }]\n    }],\n\n    'oddsignal': [{\n      chat: CHAT_A,\n      text: ' I picked up an odd signal there.'\n    }, {\n      chat: CHAT_A,\n      text: 'It was very faint, but I thought I saw…'\n    }, {\n      chat: CHAT_A,\n      text: 'Maybe it was nothing. Did you see anything strange?'\n    }, {\n      chat: CHAT_A,\n      choices: [{\n        text: 'Nothing on this end.',\n        goto: 'wisechoice'\n      }, {\n        text: 'Do you mean Agent R?',\n        goto: 'unwisechoice'\n      }]\n    }],\n\n    'wisechoice': [{\n      chat: CHAT_A,\n      text: ' Ok. Just let me know if you anything comes up.'\n    }, {\n      chat: CHAT_B,\n      text: 'If you continue with this, I can share an extra information pack with you.'\n    }, {\n      chat: CHAT_B,\n      text: 'Keep up the pretense.'\n    }, {\n      chat: CHAT_B,\n      choices: [{\n        text: 'Who are you?',\n        goto: 'goingon'\n      }, {\n        text: 'What\\'s going on?',\n        event: Events.EVT_THIRD_NEWS_ARTICLE,\n        goto: 'goingon'\n      }]\n    }],\n\n    'goingon': [{\n      chat: CHAT_B,\n      text: ' That\\'s not important right now. The safety of the world is at stake, just make it to the packets and I\\'ll tell you what to do from there. '\n    }],\n\n    'unwisechoice': [{\n      chat: CHAT_A,\n      text: ' Agent R?! DO NOT ENGAGE, I repeat, DO NOT ENGAGE with Agent R! They are not to be trusted! '\n    }, {\n      chat: CHAT_A,\n      text: 'Do not engage them under any circumstances. They are the enemy.'\n    }, {\n      chat: CHAT_B,\n      text: 'What have you done! Do you want to destroy us all?!'\n    }, {\n      chat: CHAT_B,\n      text: 'If you do as Agent B says, we\\'re all doomed!'\n    }, {\n      chat: CHAT_B,\n      choices: [{\n        text: 'How am I meant to trust you?',\n        goto: 'trust'\n      }, {\n        text: 'Why?!',\n        goto: 'trust'\n      }]\n    }],\n\n    'trust': [{\n      chat: CHAT_B,\n      text: ' There\\'s no time to explain right now, you just have to trust me.'\n    }, {\n      chat: CHAT_B,\n      text: ' Get to the next info packet. Act as normal.'\n    }, {\n      chat: CHAT_B,\n      text: ' If you\\'re interested in saving the planet, you\\'ll do as I say.',\n      event: Events.EVT_THIRD_NEWS_ARTICLE\n    }],\n\n    'helloagents': [{\n      chat: CHAT_B,\n      text: 'Agent B: So, here you are.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: I guess you found me.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: We\\'ve tracked you Agent R. You\\'ve nowhere to hide.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: We won\\'t let you get a hold of the info packet.'\n    }, {\n      chat: CHAT_B,\n      choices: [{\n        text: 'You\\'re damn right!',\n        goto: 'agentb1'\n      }, {\n        text: 'I don\\'t think so.',\n        goto: 'agentr1'\n      }]\n    }],\n\n    'agentb1': [{\n      chat: CHAT_B,\n      text: 'Agent B: Ha!'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: 045… I thought you were better than this.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: You\\'re signing your own death warrant.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: Don\\'t be ridiculous.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: Get to the last info point Agent 045.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: Then we can annihilate this scum.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: There\\'s still time.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: I hope that when the time comes, you\\'ll make the right choice.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: Idiot. '\n    }],\n\n    'agentr1': [{\n      chat: CHAT_B,\n      text: 'Agent B: Excuse me??'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: I think you heard them B.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: They won\\'t be helping you anymore.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: Are you an idiot?!'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: You\\'ll be helping a physcopath!'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: This will start world war 3!'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: Don\\'t waste your breath B. They\\'ve made their choice.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: We won\\'t start a war, we\\'ll be ending it.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: I beg of you, please. You still have time to change your mind.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: When the time comes, send the pack to me.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: Idiot.',\n      event: Events.EVT_FOURTH_NEWS_ARTICLE\n    }],\n\n    'bluepacket': [{\n      chat: CHAT_B,\n      text: 'Agent B: Well done Agent 045, you\\'ve made the correct decision.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: Oh god. What have you done.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: Exactly what he was meant to, R.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: I hope you\\'ve enjoyed your time on this earth.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: You will be rewarded Agent 045.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: You\\'ve doomed us all.',\n      event: Events.EVT_FIFTHB_NEWS_ARTICLE\n    }],\n\n    'redpacket': [{\n      chat: CHAT_B,\n      text: 'Agent R: Well done Agent 045, you\\'ve made the correct decision.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: Oh god. What have you done.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: Exactly what he was meant to, R.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: I hope you\\'ve enjoyed your time on this earth.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent R: You will be rewarded Agent 045.'\n    }, {\n      chat: CHAT_B,\n      text: 'Agent B: You\\'ve doomed us all.',\n      event: Events.EVT_FIFTHR_NEWS_ARTICLE\n    }],\n\n    'failstate1': [{\n      chat: CHAT_A,\n      text: '045! Be very careful, you\\'ll get locked out if you try to hack the access point incorrectly.'\n    }],\n\n    'failstate2': [{\n      chat: CHAT_A,\n      text: 'Agent. This is your last warning. DO NOT FAIL AGAIN.'\n    }],\n\n    'failstate3': [{\n      chat: CHAT_A,\n      text: 'You\\'ve proven yourself unable to handle this mission. You will not be contacted again.',\n      event: Events.EVT_FAILGAME\n    }],\n\n    'tempwin': [{\n      chat: CHAT_A,\n      text: 'Well done, Agent 045!'\n    }, {\n      chat: CHAT_A,\n      text: 'You\\'ve proven yourself quite capable in the field.'\n    }, {\n      chat: CHAT_A,\n      text: 'We\\'ll be in touch again soon.'\n    }, {\n      chat: CHAT_A,\n      text: '*** TRANSMISSION ENDED ***'\n    }]\n  }\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"chatBlue\":\"#d1d1ff\",\"chatGreen\":\"#d1ffd1\",\"chatRed\":\"#ffd1d1\",\"conversationPanel\":\"chat__chat__conversationPanel_982aae\",\"msgPanel\":\"chat__chat__msgPanel_128da4\",\"msg\":\"chat__chat__msg_40734c\",\"reveal\":\"chat__chat__reveal_91caa2\",\"agentA\":\"chat__chat__agentA_b11783\",\"agentB\":\"chat__chat__agentB_1dd93a\",\"player\":\"chat__chat__player_ecf56e\",\"choicePanel\":\"chat__chat__choicePanel_29a146\",\"choiceButton\":\"chat__chat__choiceButton_913795\"};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"mediaPanel\":\"media__media__mediaPanel_b4417a\",\"mediaList\":\"media__media__mediaList_437845\",\"imageThumbnail\":\"media__media__imageThumbnail_cfdc06\",\"unavailable\":\"media__media__unavailable_405d0b\",\"mediaDetail\":\"media__media__mediaDetail_de48e3\",\"mediaPacket\":\"media__media__mediaPacket_9779ff\",\"formRow\":\"media__media__formRow_c89747\",\"packetHeader\":\"media__media__packetHeader_cd5f7b\",\"errorMsg\":\"media__media__errorMsg_b3148a\",\"complete\":\"media__media__complete_9db300\",\"monochrome\":\"media__media__monochrome_52c7d6\"};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _request = __webpack_require__(8);\n\nvar _request2 = _interopRequireDefault(_request);\n\n__webpack_require__(1);\n\n__webpack_require__(15);\n\n__webpack_require__(16);\n\n__webpack_require__(17);\n\nvar _app = __webpack_require__(18);\n\nvar _app2 = _interopRequireDefault(_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar splashEl = document.querySelector('#splash-inner');\nvar customEl = document.querySelector('#custom-game');\nvar startButtons = splashEl.querySelector('#start-buttons');\nvar storyButEl = splashEl.querySelector('button[data-story]');\nvar quickButEl = splashEl.querySelector('button[data-quick]');\n\nif (window.location.hash.substr(1, 7) === 'custom:') {\n  var cfgBase = window.location.hash.substr(8);\n  try {\n    var cfgUrl = atob(cfgBase);\n    console.info('Found custom game URL:', cfgUrl);\n    console.info('Fetching...');\n    customEl.innerHTML = 'Loading...';\n    (0, _request2.default)(cfgUrl, function (err, resp, body) {\n      if (err) throw err;\n      var customData = JSON.parse(body);\n      console.info('Got custom game', customData);\n      customEl.innerHTML = '<h4>' + customData.meta.title + '</h4> by <strong>' + customData.meta.author + '</strong>';\n      window.customData = customData;\n    });\n  } catch (e) {\n    console.warn('Could not decode custom config string or fetch custom game.', e);\n  }\n}\n\nfunction startGame() {\n  var isQuickPlay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  if (isQuickPlay) console.info('Starting quickplay mode...');\n  window.quickPlay = isQuickPlay;\n\n  document.querySelector('#splash-inner').style.display = 'none';\n  setTimeout(function () {\n    var app = new _app2.default();\n    app.start();\n  }, isQuickPlay ? 1 : 1000);\n}\n\nstoryButEl.addEventListener('click', function (e) {\n  startGame();\n});\nquickButEl.addEventListener('click', function (e) {\n  startGame(true);\n});\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar window = __webpack_require__(9)\nvar isFunction = __webpack_require__(2)\nvar parseHeaders = __webpack_require__(11)\nvar xtend = __webpack_require__(14)\n\nmodule.exports = createXHR\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop\ncreateXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n        options = initParams(uri, options, callback)\n        options.method = method.toUpperCase()\n        return _createXHR(options)\n    }\n})\n\nfunction forEachArray(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n        iterator(array[i])\n    }\n}\n\nfunction isEmpty(obj){\n    for(var i in obj){\n        if(obj.hasOwnProperty(i)) return false\n    }\n    return true\n}\n\nfunction initParams(uri, options, callback) {\n    var params = uri\n\n    if (isFunction(options)) {\n        callback = options\n        if (typeof uri === \"string\") {\n            params = {uri:uri}\n        }\n    } else {\n        params = xtend(options, {uri: uri})\n    }\n\n    params.callback = callback\n    return params\n}\n\nfunction createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback)\n    return _createXHR(options)\n}\n\nfunction _createXHR(options) {\n    if(typeof options.callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n\n    var called = false\n    var callback = function cbOnce(err, response, body){\n        if(!called){\n            called = true\n            options.callback(err, response, body)\n        }\n    }\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            setTimeout(loadFunc, 0)\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else {\n            body = xhr.responseText || getXml(xhr)\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n        }\n        evt.statusCode = 0\n        return callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        if (aborted) return\n        var status\n        clearTimeout(timeoutTimer)\n        if(options.useXDR && xhr.status===undefined) {\n            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n            status = 200\n        } else {\n            status = (xhr.status === 1223 ? 204 : xhr.status)\n        }\n        var response = failureResponse\n        var err = null\n\n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        return callback(err, response, response.body)\n    }\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new createXHR.XDomainRequest()\n        }else{\n            xhr = new createXHR.XMLHttpRequest()\n        }\n    }\n\n    var key\n    var aborted\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n    var failureResponse = {\n        body: undefined,\n        headers: {},\n        statusCode: 0,\n        method: method,\n        url: uri,\n        rawRequest: xhr\n    }\n\n    if (\"json\" in options && options.json !== false) {\n        isJson = true\n        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n            body = JSON.stringify(options.json === true ? body : options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.onabort = function(){\n        aborted = true;\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            if (aborted) return\n            aborted = true//IE9 may still call readystatechange\n            xhr.abort(\"timeout\")\n            var e = new Error(\"XMLHttpRequest timeout\")\n            e.code = \"ETIMEDOUT\"\n            errorFunc(e)\n        }, options.timeout )\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers && !isEmpty(options.headers)) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n\n    if (\"beforeSend\" in options &&\n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n    xhr.send(body || null)\n\n    return xhr\n\n\n}\n\nfunction getXml(xhr) {\n    // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n    try {\n        if (xhr.responseType === \"document\") {\n            return xhr.responseXML\n        }\n        var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\"\n        if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n            return xhr.responseXML\n        }\n    } catch (e) {}\n\n    return null\n}\n\nfunction noop() {}\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)))\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar trim = __webpack_require__(12)\n  , forEach = __webpack_require__(13)\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isFunction = __webpack_require__(2)\n\nmodule.exports = forEach\n\nvar toString = Object.prototype.toString\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n        throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n        context = this\n    }\n    \n    if (toString.call(list) === '[object Array]')\n        forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n        forEachString(list, iterator, context)\n    else\n        forEachObject(list, iterator, context)\n}\n\nfunction forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            iterator.call(context, array[i], i, array)\n        }\n    }\n}\n\nfunction forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        iterator.call(context, string.charAt(i), i, string)\n    }\n}\n\nfunction forEachObject(object, iterator, context) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            iterator.call(context, object[k], k, object)\n        }\n    }\n}\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nmodule.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"/manifest.json\";\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"assets/bfa6e5b8517c664c26164afae6f66b6c.gif\";\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"/game.html\";\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(19);\n\nvar _template = __webpack_require__(20);\n\nvar _template2 = _interopRequireDefault(_template);\n\nvar _style = __webpack_require__(3);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _Emitter = __webpack_require__(21);\n\nvar _Emitter2 = _interopRequireDefault(_Emitter);\n\nvar _SoundPlayer = __webpack_require__(22);\n\nvar _SoundPlayer2 = _interopRequireDefault(_SoundPlayer);\n\nvar _GameState = __webpack_require__(23);\n\nvar _GameState2 = _interopRequireDefault(_GameState);\n\nvar _ChatTab = __webpack_require__(25);\n\nvar _ChatTab2 = _interopRequireDefault(_ChatTab);\n\nvar _MediaTab = __webpack_require__(27);\n\nvar _MediaTab2 = _interopRequireDefault(_MediaTab);\n\nvar _gamescript = __webpack_require__(4);\n\nvar _events = __webpack_require__(0);\n\nvar _sounds = __webpack_require__(35);\n\nvar _sounds2 = _interopRequireDefault(_sounds);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Main app UI class.\n *\n * - Composes the tab modules, event emitter and game\n * state\n * - Determines the available tabs and their default state\n * - Handles tab switching and visibility/rendering\n * - Initialises the tab modules\n * - Shares an Emitter instance between itself, game state and tab modules\n */\n\nvar App = function () {\n  function App() {\n    _classCallCheck(this, App);\n\n    this.initialTabId = 'ChatA';\n\n    this.appEl = document.body;\n    this.tabData = [{\n      id: 'ChatA',\n      label: '???',\n      visible: true,\n      module: new _ChatTab2.default(_gamescript.CHAT_A)\n    }, {\n      id: 'ChatB',\n      label: '???',\n      visible: false,\n      module: new _ChatTab2.default(_gamescript.CHAT_B)\n    }, {\n      id: 'Media',\n      label: 'Media',\n      visible: window.quickPlay,\n      module: new _MediaTab2.default()\n    }];\n    this.tabDataIds = this.tabData.map(function (td) {\n      return td.id;\n    });\n\n    this.soundplayer = new _SoundPlayer2.default(_sounds2.default);\n    console.log(this.soundplayer);\n    this.emitter = new _Emitter2.default();\n    this.gamestate = new _GameState2.default(this.emitter);\n\n    window.emitter = this.emitter;\n  }\n\n  _createClass(App, [{\n    key: 'start',\n    value: function start() {\n      var _this = this;\n\n      // Render app shell\n      this.el = (0, _utils.dom)(_template2.default);\n      this.appEl.innerHTML = '';\n      this.appEl.appendChild(this.el);\n\n      // Header close button\n      this.closeButEl = this.el.querySelector('.' + _style2.default.closeBut);\n      this.closeButEl.addEventListener('click', function (e) {\n        window.location.reload();\n      });\n\n      // DOM areas for nav and content\n      this.navEl = this.el.querySelector('.' + _style2.default.tabNav);\n      this.contentEl = this.el.querySelector('.' + _style2.default.appTabWindow);\n\n      // Handle tab modules\n      this.tabData.forEach(function (tdata, idx) {\n\n        // Create nav item\n        var tabNavEl = document.createElement('button');\n        tabNavEl.textContent = tdata.id;\n        tabNavEl.dataset.tabId = tdata.id;\n        if (tdata.visible) tabNavEl.classList.add(_style2.default.visibleTab);\n\n        tabNavEl.addEventListener('click', function (e) {\n          var t = e.srcElement;\n          _this.setActiveTab(t.dataset.tabId);\n        });\n\n        _this.navEl.appendChild(tabNavEl);\n        tdata._navEl = tabNavEl;\n\n        // Init module\n        if (!tdata.module) return false;\n\n        // Render tab template into container\n        var tabWrapEl = document.createElement('div');\n        tabWrapEl.classList.add(_style2.default.appTabWrapper);\n        var tabContentEl = (0, _utils.dom)(tdata.module.template);\n        tabWrapEl.appendChild(tabContentEl);\n        _this.contentEl.appendChild(tabWrapEl);\n\n        tdata._wrapEl = tabWrapEl;\n        tdata._contentEl = tabContentEl;\n\n        tdata.module.init(tdata.id, tabContentEl, _this.emitter);\n      });\n\n      // Bind sound event\n      this.emitter.bind(_events.EVT_PLAY_SOUND, function (soundId) {\n        _this.soundplayer.play(soundId);\n      }, this);\n\n      // Show notification on tabs if not the current one\n      this.emitter.bind(_events.EVT_TAB_NOTIFY, function (tabId) {\n        if (tabId !== _this.activeTab) {\n          _this.setTabNotification(tabId);\n        }\n      }, this);\n\n      // Render initial tab\n      this.setActiveTab(this.initialTabId);\n      this.gamestate.init();\n\n      setTimeout(function () {\n        _this.emitter.dispatch(_events.EVT_PLAY_SOUND, 'appstart');\n      }, 1000);\n    }\n  }, {\n    key: 'setActiveTab',\n    value: function setActiveTab(tabId) {\n      var tidx = this.tabDataIds.indexOf(tabId);\n      if (tidx === -1 || !this.tabData[tidx].visible) return false;\n\n      this.tabData.forEach(function (tab) {\n        var fn = tab.id === tabId ? 'add' : 'remove';\n        tab._navEl.classList[fn](_style2.default.activeTab);\n        tab._wrapEl.classList[fn](_style2.default.activeContent);\n        if (tab.id === tabId) tab._navEl.classList.remove(_style2.default.tabNotify);\n      });\n\n      this.activeTab = tabId;\n\n      return true;\n    }\n  }, {\n    key: 'setTabVisibility',\n    value: function setTabVisibility(tabId) {\n      var isVisible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var tidx = this.tabDataIds.indexOf(tabId);\n      if (tidx === -1) return false;\n\n      var fn = isVisible ? 'add' : 'remove';\n      this.tabData[tidx]._navEl.classList[fn](_style2.default.visibleTab);\n      this.tabData[tidx]._wrapEl.classList[fn](_style2.default.visibleContent);\n      this.tabData[tidx].visible = isVisible;\n    }\n  }, {\n    key: 'setTabNotification',\n    value: function setTabNotification(tabId) {\n      if (tabId === this.activeTab) return false;\n\n      var tidx = this.tabDataIds.indexOf(tabId);\n      if (tidx === -1) return false;\n\n      this.setTabVisibility(tabId, true);\n      this.tabData[tidx]._navEl.classList.add(_style2.default.tabNotify);\n    }\n  }]);\n\n  return App;\n}();\n\nexports.default = App;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dom = dom;\nfunction dom(tplStr) {\n  var wrap = document.createElement('template');\n  wrap.innerHTML = tplStr;\n  return wrap.content.firstElementChild;\n}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _style = __webpack_require__(3);\n\nvar _style2 = _interopRequireDefault(_style);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = '\\n<div id=\"main\" class=\"' + _style2.default.appWrapper + '\">\\n  <header class=\"' + _style2.default.appHeader + '\">\\n    <h1>ISeekU v1.0.3a</h1>\\n    <button class=\"' + _style2.default.closeBut + '\">X</button>\\n  </header>\\n  <nav class=\"' + _style2.default.tabNav + '\">\\n  </nav>\\n  <div class=\"' + _style2.default.appTabWindow + '\">\\n    <!-- render tab contents here -->\\n  </div>\\n  <footer class=\"' + _style2.default.appFooter + '\">\\n    Ready\\n  </footer>\\n</div>';\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEBUG = false;\n/**\n * Basic event bus/dispatcher.\n */\n\nvar Emitter = function () {\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n\n    this.events = {};\n  }\n\n  _createClass(Emitter, [{\n    key: 'bind',\n    value: function bind(id, func, ctx) {\n      if (!(id in this.events)) {\n        DEBUG && console.log('Emitter:new event', id);\n        this.events[id] = [];\n      }\n      this.events[id].push(func.bind(ctx));\n      return func;\n    }\n  }, {\n    key: 'unbind',\n    value: function unbind(id, func) {\n      if (!(id in this.events)) return false;\n\n      var idx = this.events[id].indexOf(func);\n      if (idx === -1) return false;\n\n      this.events[id][idx] = undefined;\n    }\n  }, {\n    key: 'dispatch',\n    value: function dispatch(id) {\n      var _console;\n\n      if (!(id in this.events)) {\n        DEBUG && console.warn('Emitter:no event found', id);\n        return false;\n      }\n\n      for (var _len = arguments.length, params = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        params[_key - 1] = arguments[_key];\n      }\n\n      DEBUG && (_console = console).log.apply(_console, ['Emitter:dispatch', id].concat(params));\n      for (var i = 0, ln = this.events[id].length; i < ln; i++) {\n        var _events$id;\n\n        (_events$id = this.events[id])[i].apply(_events$id, params);\n      }\n    }\n  }, {\n    key: 'unbindAll',\n    value: function unbindAll() {\n      this.events = {};\n    }\n  }]);\n\n  return Emitter;\n}();\n\nexports.default = Emitter;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SoundPlayer = function () {\n  function SoundPlayer(manifest) {\n    _classCallCheck(this, SoundPlayer);\n\n    console.log('manifest', manifest);\n\n    this.sounds = {};\n\n    for (var k in manifest) {\n      var aud = document.createElement('audio');\n      aud.autoplay = false;\n      aud.controls = false;\n      aud.loop = false;\n      aud.src = manifest[k];\n\n      this.sounds[k] = {\n        id: k,\n        src: manifest[k],\n        el: aud\n      };\n    }\n  }\n\n  _createClass(SoundPlayer, [{\n    key: 'play',\n    value: function play(id) {\n      if (!(id in this.sounds)) return false;\n      if (this.sounds[id].el.readystate < 2) return false;\n      this.sounds[id].el.play();\n    }\n  }]);\n\n  return SoundPlayer;\n}();\n\nexports.default = SoundPlayer;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ScriptReader = __webpack_require__(24);\n\nvar _ScriptReader2 = _interopRequireDefault(_ScriptReader);\n\nvar _gamescript = __webpack_require__(4);\n\nvar _gamescript2 = _interopRequireDefault(_gamescript);\n\nvar _events = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Internal module to handle game state.\n * Responsible for 'pushing out' new messages from the\n * game script and firing events that the tab modules\n * and app shell can respond to.\n *\n * Also handles all internal game logic for what happens\n * when certain events are fired (puzzle completion,\n * choices made by the player, etc)\n *\n * Renders no UI of its own.\n * Uses an Emitter instance passed into it.\n */\n\nvar GameState = function () {\n  function GameState(emitter) {\n    _classCallCheck(this, GameState);\n\n    this.emitter = emitter;\n    this.reader = new _ScriptReader2.default(_gamescript2.default);\n\n    this.initialChapter = 'intro1';\n    this.puzzleChapters = ['firstpuzzlesent', 'strangepackage', 'readfile', '', 'tempwin'];\n\n    this.choiceHistory = [];\n\n    this.puzzleAttemptsLeft = 3;\n    this.totalPuzzles = 5;\n\n    if (window.isQuickplay) {\n      var _eventBindings;\n\n      this.eventBindings = (_eventBindings = {}, _defineProperty(_eventBindings, _events.EVT_PUZZLE_SUCCESS, 'handlePuzzleSuccess'), _defineProperty(_eventBindings, _events.EVT_PUZZLE_FAIL, 'handlePuzzleFail'), _defineProperty(_eventBindings, _events.EVT_FAILGAME, 'handleGameOver'), _eventBindings);\n    } else {\n      var _eventBindings2;\n\n      this.eventBindings = (_eventBindings2 = {}, _defineProperty(_eventBindings2, _events.EVT_CHOICE_SELECTED, 'handlePlayerDecision'), _defineProperty(_eventBindings2, _events.EVT_PUZZLE_FIRST_OPEN, 'handleFirstPuzzleOpen'), _defineProperty(_eventBindings2, _events.EVT_PUZZLE_SUCCESS, 'handlePuzzleSuccess'), _defineProperty(_eventBindings2, _events.EVT_PUZZLE_DATA_SENT, 'handlePuzzleDataSent'), _defineProperty(_eventBindings2, _events.EVT_PUZZLE_FAIL, 'handlePuzzleFail'), _defineProperty(_eventBindings2, _events.EVT_SEND_INITIAL_PHOTOS, 'handleFirstPhotos'), _defineProperty(_eventBindings2, _events.EVT_ADVANCE_GAME_STATE, 'advance'), _defineProperty(_eventBindings2, _events.EVT_FAILGAME, 'handleGameOver'), _defineProperty(_eventBindings2, _events.EVT_IMPATIENT_TAP, 'handleImpatientPlayer'), _eventBindings2);\n    }\n\n    this.puzzleStatus = [];\n    for (var i = 0; i < this.totalPuzzles; i++) {\n      this.puzzleStatus.push({\n        puzzleID: 0,\n        isComplete: false,\n        isSent: false\n      });\n    }\n  }\n\n  _createClass(GameState, [{\n    key: 'init',\n    value: function init() {\n      for (var ev in this.eventBindings) {\n        this.emitter.bind(ev, this[this.eventBindings[ev]], this);\n      }\n\n      if (window.quickPlay) {\n        this.sendQuickplayNotification('*** QUICKPLAY MODE ***');\n        this.sendQuickplayNotification('Puzzles remaining: ' + (this.totalPuzzles - this.getCompletedPuzzleCount()));\n        this.emitter.dispatch(_events.EVT_SEND_INITIAL_PHOTOS);\n      } else {\n        this.reader.init(this.initialChapter);\n        this.advance();\n      }\n    }\n  }, {\n    key: 'advance',\n    value: function advance() {\n      var _this = this;\n\n      var msg = this.reader.getNextMsg();\n\n      if (msg) {\n        if (msg.event) {\n          this.emitter.dispatch(msg.event);\n        }\n        if (msg.choices) {\n          this.emitter.dispatch(_events.EVT_CHOICES_RECEIVED, msg);\n        } else {\n          this.msgFn = function () {\n            clearTimeout(_this.msgTimeout);\n            _this.msgFn = function () {};\n            _this.emitter.dispatch(_events.EVT_MESSAGE_RECEIVED, msg);\n            _this.advance();\n          };\n          this.msgTimeout = setTimeout(this.msgFn, window.quickPlay ? 1000 : 3000); // TODO: calc time to display message\n        }\n      }\n    }\n\n    /* Quickplay */\n\n  }, {\n    key: 'sendQuickplayNotification',\n    value: function sendQuickplayNotification(text) {\n      this.emitter.dispatch(_events.EVT_MESSAGE_RECEIVED, {\n        text: text,\n        chat: _gamescript.CHAT_A\n      });\n    }\n\n    /** Game logic and advancement callbacks */\n\n  }, {\n    key: 'getCompletedPuzzleCount',\n    value: function getCompletedPuzzleCount() {\n      return this.puzzleStatus.filter(function (p) {\n        return p.isComplete;\n      }).length;\n    }\n  }, {\n    key: 'getSentPuzzleDataCount',\n    value: function getSentPuzzleDataCount() {\n      return this.puzzleStatus.filter(function (p) {\n        return p.isComplete && p.isSent;\n      }).length;\n    }\n  }, {\n    key: 'handlePlayerDecision',\n    value: function handlePlayerDecision(choice) {\n      // TODO: handle game/state logic around selection\n      this.choiceHistory.push(choice);\n      this.reader.startChapter(choice.goto);\n      this.advance();\n    }\n\n    // When phots are first sent/Media tab revealed\n\n  }, {\n    key: 'handleFirstPhotos',\n    value: function handleFirstPhotos() {\n      this.emitter.dispatch(_events.EVT_TAB_NOTIFY, 'Media');\n    }\n\n    // Chat tutorial when first decryption attempted\n\n  }, {\n    key: 'handleFirstPuzzleOpen',\n    value: function handleFirstPuzzleOpen() {\n      this.reader.startChapter('tutorial');\n      this.advance();\n    }\n\n    // Called when a puzzle is completed (decrypted)\n\n  }, {\n    key: 'handlePuzzleSuccess',\n    value: function handlePuzzleSuccess(puzzleId) {\n      this.puzzleStatus[puzzleId].isComplete = true;\n\n      // Instructions after completing first puzzle\n      if (!window.quickPlay) {\n        if (this.getCompletedPuzzleCount() === 1) {\n          this.reader.startChapter('firstpuzzlecomplete');\n          this.advance();\n        }\n      }\n    }\n\n    // Called when a puzzle data is sent\n\n  }, {\n    key: 'handlePuzzleDataSent',\n    value: function handlePuzzleDataSent(puzzleId) {\n      this.puzzleStatus[puzzleId].isSent = true;\n\n      // Response after first puzzle sent\n      if (window.quickPlay) {\n        this.sendQuickplayNotification('Puzzles remaining: ' + (this.totalPuzzles - this.getCompletedPuzzleCount()));\n      } else {\n        /*if (this.getSentPuzzleDataCount() === 1) {\n          this.reader.startChapter('firstpuzzlesent')\n          this.advance()\n        }\n        else if (this.getSentPuzzleDataCount() === 2) {\n          this.reader.startChapter('strangepackage');\n          this.advance();\n        }\n        else*/\n        var puzzleIndex = this.getSentPuzzleDataCount() - 1;\n        if (puzzleIndex === this.totalPuzzles) {\n          this.reader.startChapter('tempwin');\n          this.advance();\n        } else if (this.puzzleChapters[puzzleIndex] !== '') {\n          this.reader.startChapter(this.puzzleChapters[puzzleIndex]);\n          this.advance();\n        }\n      }\n    }\n\n    // Fail messages if you screw up\n\n  }, {\n    key: 'handlePuzzleFail',\n    value: function handlePuzzleFail(puzzleId) {\n      this.puzzleAttemptsLeft--;\n\n      if (this.puzzleAttemptsLeft > 1) {\n        this.reader.startChapter('failstate1');\n        this.advance();\n      } else if (this.puzzleAttemptsLeft > 0) {\n        this.reader.startChapter('failstate2');\n        this.advance();\n      } else if (this.puzzleAttemptsLeft === 0) {\n        this.reader.startChapter('failstate3');\n        this.advance();\n      }\n    }\n\n    // Allow players to advance the dialog quicker\n\n  }, {\n    key: 'handleImpatientPlayer',\n    value: function handleImpatientPlayer() {\n      if (this.msgTimeout) {\n        clearTimeout(this.msgTimeout);\n        this.msgFn();\n      }\n    }\n  }, {\n    key: 'handleGameOver',\n    value: function handleGameOver() {\n      // TODO: game over\n      console.log('GAME OVER');\n    }\n  }]);\n\n  return GameState;\n}();\n\nexports.default = GameState;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Utility class to read 'game script' data and keep\n * track of what chapter/message we're currently on.\n *\n * Exposes method for changing chapter and getting the\n * next message, if available, of the current one.\n */\n\nvar ScriptReader = function () {\n  function ScriptReader(script) {\n    _classCallCheck(this, ScriptReader);\n\n    this.script = script;\n    console.log('ScriptReader', this.script);\n  }\n\n  _createClass(ScriptReader, [{\n    key: 'init',\n    value: function init(id) {\n      this.currentChapter = null;\n      this.currentChapterId = null;\n      this.chapterLength = 0;\n      this.currentChapterMsgIdx = -1;\n\n      if (id) this.startChapter(id);\n    }\n  }, {\n    key: 'startChapter',\n    value: function startChapter(id) {\n      if (id === null) return false;\n\n      if (!(id in this.script.chapters)) {\n        console.warn('ScriptReader: invalid chapter id', id);\n        return false;\n      }\n      this.currentChapter = this.script.chapters[id];\n      this.currentChapterId = id;\n      this.chapterLength = this.currentChapter.length;\n      this.currentChapterMsgIdx = -1;\n    }\n  }, {\n    key: 'getNextMsg',\n    value: function getNextMsg() {\n      if (!this.currentChapter || this.currentChapterMsgIdx === this.chapterLength - 1) {\n        console.info('ScriptReader: no further messages in chapter', this.currentChapterId);\n        return false;\n      }\n      this.currentChapterMsgIdx++;\n      return this.currentChapter[this.currentChapterMsgIdx];\n    }\n  }]);\n\n  return ScriptReader;\n}();\n\nexports.default = ScriptReader;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _template = __webpack_require__(26);\n\nvar _template2 = _interopRequireDefault(_template);\n\nvar _events = __webpack_require__(0);\n\nvar _chat = __webpack_require__(5);\n\nvar _chat2 = _interopRequireDefault(_chat);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Class representing a Chat tab in the app.\n *\n * Will listen to 'incoming message' events and handle\n * any which have its id attached (see data/gamescript).\n *\n * Responsible for rendering messages and choices in its\n * own tab DOM, and firing appropriate events when the\n * player selects a choice from it.\n *\n * Uses a shared Emitter instance passed into its init()\n */\n\nvar ChatTab = function () {\n  function ChatTab(chatID) {\n    _classCallCheck(this, ChatTab);\n\n    this.chatID = chatID;\n    this.template = _template2.default;\n  }\n\n  _createClass(ChatTab, [{\n    key: 'init',\n    value: function init(moduleId, el, emitter) {\n      var _this = this;\n\n      this.id = moduleId;\n      this.emitter = emitter;\n\n      this.messageLog = [];\n\n      // Cache refs to internal DOM for messages and choices\n      this.convoPanelEl = el.querySelector('.' + _chat2.default.conversationPanel) || el;\n      this.msgPanelEl = el.querySelector('.' + _chat2.default.msgPanel);\n      this.choicePanelEl = el.querySelector('.' + _chat2.default.choicePanel);\n\n      // Bind events for incoming messages/choices\n      this.emitter.bind(_events.EVT_MESSAGE_RECEIVED, this.handleIncomingMessage, this);\n\n      this.emitter.bind(_events.EVT_CHOICES_RECEIVED, this.handleIncomingMessage, this);\n\n      this.msgPanelEl.addEventListener('click', function () {\n        _this.emitter.dispatch(_events.EVT_IMPATIENT_TAP);\n      });\n    }\n  }, {\n    key: 'handleIncomingMessage',\n    value: function handleIncomingMessage(msg) {\n      // Only handle messages for this instance\n      if (msg.chat !== this.chatID) return false;\n\n      if (msg.choices) {\n        // Render in choices panel if there are some\n        this.displayChoices(msg.choices);\n      } else {\n        // Render message output\n        this.displayMessage(msg);\n      }\n      this.emitter.dispatch(_events.EVT_TAB_NOTIFY, this.id);\n    }\n  }, {\n    key: 'displayMessage',\n    value: function displayMessage(msg) {\n      this.clearChoices();\n\n      // Render and log a message\n      var container = document.createElement('div');\n      container.classList.add(_chat2.default.msg, msg.isPlayer ? _chat2.default.player : _chat2.default[msg.chat]);\n      container.textContent = msg.text;\n      this.msgPanelEl.appendChild(container);\n      this.messageLog.push(msg);\n      // Scroll to bottom of panel\n      this.convoPanelEl.scrollTop = this.msgPanelEl.scrollHeight;\n\n      this.emitter.dispatch(_events.EVT_PLAY_SOUND, 'not1');\n    }\n  }, {\n    key: 'displayChoices',\n    value: function displayChoices(options) {\n      var _this2 = this;\n\n      // Render choices\n      this.clearChoices();\n\n      options.forEach(function (opt) {\n        var button = document.createElement('button');\n        button.classList.add(_chat2.default.choiceButton);\n        button.setAttribute('type', 'button');\n        button.textContent = opt.text;\n        button.addEventListener('click', function () {\n          // Make sure we render the selection in the\n          // message output\n          _this2.displayMessage({\n            chat: _this2.chatID,\n            text: opt.text,\n            isPlayer: true\n          });\n          _this2.clearChoices();\n          _this2.emitter.dispatch(_events.EVT_CHOICE_SELECTED, opt);\n        });\n        _this2.choicePanelEl.appendChild(button);\n      });\n      // Scroll to the bottom of the panel\n      if (this.convoPanelEl.offsetHeight < this.msgPanelEl.scrollHeight) {\n        this.convoPanelEl.scrollTop = this.convoPanelEl.scrollHeight;\n      }\n    }\n  }, {\n    key: 'clearChoices',\n    value: function clearChoices() {\n      this.choicePanelEl.innerHTML = '';\n    }\n  }]);\n\n  return ChatTab;\n}();\n\nexports.default = ChatTab;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _chat = __webpack_require__(5);\n\nvar _chat2 = _interopRequireDefault(_chat);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = '\\n<div class=\"' + _chat2.default.conversationPanel + '\">\\n    <div class=\"' + _chat2.default.msgPanel + '\"></div>\\n    <div class=\"' + _chat2.default.choicePanel + '\"></div>\\n</div>\\n';\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _media = __webpack_require__(6);\n\nvar _media2 = _interopRequireDefault(_media);\n\nvar _main = __webpack_require__(1);\n\nvar _template = __webpack_require__(28);\n\nvar _template2 = _interopRequireDefault(_template);\n\nvar _media3 = __webpack_require__(29);\n\nvar _media4 = _interopRequireDefault(_media3);\n\nvar _events = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar mediaList = void 0;\n\nvar MediaTab = function () {\n  function MediaTab() {\n    _classCallCheck(this, MediaTab);\n\n    this.template = _template2.default;\n  }\n\n  _createClass(MediaTab, [{\n    key: 'init',\n    value: function init(moduleId, el, emitter) {\n      var _this = this;\n\n      mediaList = window.customData ? window.customData.images : _media4.default;\n\n      this.id = moduleId;\n      this.emitter = emitter;\n      this.unencrypted = [];\n      this.transmittedPackets = [];\n\n      this.mediaPanel = el.querySelector('.' + _media2.default.mediaPanel) || el;\n      this.mediaDetail = el.querySelector('.' + _media2.default.mediaDetail);\n      this.mediaPacket = el.querySelector('.' + _media2.default.mediaPacket);\n      this.mediaDetail.querySelector('#detail-cancel').addEventListener('click', function () {\n        _this.closeDetails();\n      });\n      this.mediaDetail.querySelector('#detail-submit').addEventListener('click', function () {\n        _this.checkPasscode();\n      });\n      this.mediaPacket.querySelector('#packet-transmit').addEventListener('click', function () {\n        _this.transmitPacket();\n      });\n      this.emitter.bind(_events.EVT_SEND_INITIAL_PHOTOS, function () {\n        for (var x = 0; x < 5; x++) {\n          _this.releasePhoto(x);\n        }\n      }, this);\n    }\n  }, {\n    key: 'releasePhoto',\n    value: function releasePhoto(index) {\n      var _this2 = this;\n\n      if (index >= mediaList.length) {\n        return;\n      }\n\n      var imgContainer = this.mediaPanel.querySelector('[data-index=\"' + index + '\"]');\n      var imgEl = document.createElement('img');\n      imgEl.src = mediaList[index].url;\n      imgEl.dataset['index'] = index;\n      imgEl.addEventListener('click', function () {\n        _this2.onImageClick(imgEl);\n      });\n\n      imgContainer.classList.remove(_media2.default.unavailable);\n      imgContainer.appendChild(imgEl);\n    }\n  }, {\n    key: 'onImageClick',\n    value: function onImageClick(imgEl) {\n      var index = imgEl.dataset.index;\n      if (this.unencrypted.includes(index)) {\n        // User has entered the correct passcode already, skip to the info packet\n        this.expandPacket(index);\n      } else {\n        // User has not entered the correct passcode for this photo yet\n        this.expandDetails(imgEl);\n      }\n    }\n  }, {\n    key: 'expandDetails',\n    value: function expandDetails(imgEl) {\n      // Expand the detailed photo view\n      this.mediaDetail.appendChild(imgEl.cloneNode(false));\n      this.mediaDetail.classList.remove(_main.hidden);\n    }\n  }, {\n    key: 'closeDetails',\n    value: function closeDetails() {\n      // Close the detailed photo view\n      this.mediaDetail.querySelector('[name=\"passcode\"]').value = '';\n      this.mediaDetail.removeChild(this.mediaDetail.lastChild);\n      this.mediaDetail.querySelector('.' + _media2.default.errorMsg).classList.add(_main.hidden);\n      this.mediaDetail.classList.add(_main.hidden);\n    }\n  }, {\n    key: 'checkPasscode',\n    value: function checkPasscode() {\n      // If correct, close detail view and pass control to puzzle\n      var imgEl = this.mediaDetail.lastChild;\n      var passcodeEl = this.mediaDetail.querySelector('[name=\"passcode\"]');\n      var index = imgEl.dataset.index;\n\n      if (index >= mediaList.length) {\n        return false;\n      }\n\n      if (passcodeEl.value === mediaList[index].passcode) {\n        this.unencrypted.push(index);\n        this.mediaPanel.querySelector('div[data-index=\"' + index + '\"]').classList.add(_media2.default.complete);\n        this.emitter.dispatch(_events.EVT_PUZZLE_SUCCESS, index);\n        this.closeDetails();\n        this.expandPacket(index);\n      } else {\n        this.emitter.dispatch(_events.EVT_PUZZLE_FAIL, index);\n        this.mediaDetail.querySelector('.' + _media2.default.errorMsg).classList.remove(_main.hidden);\n      }\n    }\n  }, {\n    key: 'expandPacket',\n    value: function expandPacket(index) {\n      // Display the contents of the specified info packet\n      var packetEl = this.mediaPacket.querySelector('#infoPacket');\n      packetEl.value = mediaList[index].payload;\n      packetEl.dataset.index = index;\n      this.mediaPacket.classList.remove(_main.hidden);\n    }\n  }, {\n    key: 'closePacket',\n    value: function closePacket() {\n      var packetEl = this.mediaPacket.querySelector('#infoPacket');\n      packetEl.value = '';\n      packetEl.dataset.index = '';\n      this.mediaPacket.classList.add(_main.hidden);\n    }\n  }, {\n    key: 'transmitPacket',\n    value: function transmitPacket() {\n      var packetEl = this.mediaPacket.querySelector('#infoPacket');\n      var index = packetEl.dataset.index;\n\n      if (!this.transmittedPackets.includes(index)) {\n        this.emitter.dispatch(_events.EVT_PUZZLE_DATA_SENT, index);\n        this.transmittedPackets.push(index);\n      }\n      this.closePacket();\n    }\n  }]);\n\n  return MediaTab;\n}();\n\n;\n\nexports.default = MediaTab;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _media = __webpack_require__(6);\n\nvar _media2 = _interopRequireDefault(_media);\n\nvar _main = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar imgContainersTemplate = '';\n\nfor (var i = 0; i < 5; i++) {\n    imgContainersTemplate += '<div data-index=\"' + i + '\" class=\"' + _media2.default.imageThumbnail + ' ' + _media2.default.unavailable + '\"></div>';\n}\n\nexports.default = '\\n<div class=\"' + _media2.default.mediaPanel + '\">\\n    <div class=\"' + _media2.default.mediaList + '\">' + imgContainersTemplate + '</div>\\n    <div class=\"' + _media2.default.mediaDetail + ' ' + _main.hidden + '\">\\n        <div class=\"' + _media2.default.formRow + '\">\\n            <label>Passcode:</label>\\n            <input type=\"number\" name=\"passcode\">\\n        </div>\\n        <div class=\"' + _media2.default.errorMsg + ' ' + _main.hidden + '\">\\n            <span>Incorrect passcode provided.</span>\\n        </div>\\n        <div class=\"' + _media2.default.formRow + '\">\\n            <button id=\"detail-submit\" type=\"button\">Enter</button>\\n            <button id=\"detail-cancel\" type=\"button\">Cancel</button>\\n        </div>\\n    </div>\\n    <div class=\"' + _media2.default.mediaPacket + ' ' + _main.hidden + '\">\\n        <h1 class=\"' + _media2.default.packetHeader + '\">Information Packet Uncovered</h1>\\n        <textarea id=\"infoPacket\" class=\"' + _media2.default.monochrome + '\" disabled></textarea>\\n        <div class=\"' + _media2.default.formRow + '\">\\n            <button id=\"packet-transmit\" type=\"button\">Send</button>\\n        </div>\\n    </div>\\n</div>\\n';\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _location = __webpack_require__(30);\n\nvar _location2 = _interopRequireDefault(_location);\n\nvar _location3 = __webpack_require__(31);\n\nvar _location4 = _interopRequireDefault(_location3);\n\nvar _location5 = __webpack_require__(32);\n\nvar _location6 = _interopRequireDefault(_location5);\n\nvar _location7 = __webpack_require__(33);\n\nvar _location8 = _interopRequireDefault(_location7);\n\nvar _location9 = __webpack_require__(34);\n\nvar _location10 = _interopRequireDefault(_location9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = [{\n    id: 0,\n    url: _location2.default,\n    passcode: '12345678',\n    payload: 'VGhlIG9wZXJhdGl2ZSBoYXMgcmVhY2hlZCB0aGUgYmFzZSBhdCBwb2ludCA1NMKwMzAnMjYuNSJOIDMwwrAyNCcwNS4zIkUuIFJlYWR5IHRvIGVuZ2FnZQ=='\n}, {\n    id: 1,\n    url: _location4.default,\n    passcode: '94850386',\n    payload: 'U2VydmVyIHNlY3VyaXR5IGNvZGVzIA0KDQo2Nzg5MDg3NjU0Njc4OTA0NTY0Mw0KNDM1NzY0MzU2NzY1NDM1Njc0MzMNCjIzNDU2Nzg5Nzc2NTM0NDU2Nzg4DQozMjQ0NTg2OTg3NzU2NDUyMzE0Mw0KMzI0NTY3ODY0NTY3ODg2NTQ2MzM='\n}, {\n    id: 2,\n    url: _location6.default,\n    passcode: '09274658',\n    payload: 'UHJlc2lkZW50IGxvY2F0aW9uczoNCg0KNTjCsDM1JzUyLjQiTiA4MsKwNDknNTIuOSJFDQo1OcKwMzAnMTYuNSJOIDk1wrAzOSczNi4yIkUNCjUywrAwOCcwNC45Ik4gODfCsDM1JzI0LjEiRQ=='\n}, {\n    id: 3,\n    url: _location8.default,\n    passcode: '09876543',\n    payload: 'TGlzdCBvZiBVUyAmIFJ1c3NpYSBkb3VibGUgYWdlbnRzOg0KDQpCZW4gQWRhbXMNClJldWJlbiBCcmFkbGV5DQpOZWlsbCBNY0NhbGxpb24NCktpdHR5IENyYXdmb3JkDQpBbnRvbiBHaWJuZXkNCkFicmFtIENocmlzdGlhbg0KQWx5b25hIE1hc2hhDQpBbmFzdGFpc2EgT2lzcA0KS3V6bWEgUmFkYQ0KTWFueWEgUmFpc2E='\n}, {\n    id: 4,\n    url: _location10.default,\n    passcode: '94769204',\n    payload: 'TnVjbGVhciBMYXVuY2ggY29kZXM6IA0KDQp1eTRpcmhid2Vha2ZqYjk4eXEwMnBqZWxrcWpkDQprYWVqaGZ1aXF5cjg5eTJoM2pla25xZHBqYW9pZg0Ka2VhaHNiZmloYXc5ODNocnFvaTNocm9rYWVqZg0KZWtqYmZ1aWV1cmh1b3d5M3JvcXV5cmlxdW9pcg=='\n}];\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"assets/39e3bf07418437d0ac0f0eed58c3c1f5.jpg\";\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"assets/d1ca928fb6bf6590e987636528bc2d57.jpg\";\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"assets/7d1dcda134565bb3865c195aaae3f876.jpg\";\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"assets/6bf32f35b5a054497897c1fe848b7932.jpg\";\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"assets/39d2614c41346f19b5f0e1133488a150.jpg\";\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _appstart = __webpack_require__(36);\n\nvar _appstart2 = _interopRequireDefault(_appstart);\n\nvar _fail = __webpack_require__(37);\n\nvar _fail2 = _interopRequireDefault(_fail);\n\nvar _intro = __webpack_require__(38);\n\nvar _intro2 = _interopRequireDefault(_intro);\n\nvar _not = __webpack_require__(39);\n\nvar _not2 = _interopRequireDefault(_not);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  appstart: _appstart2.default,\n  fail1: _fail2.default,\n  intro1: _intro2.default,\n  not1: _not2.default\n};\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"assets/e82359a05e0f47d825bef43b8f5e0b96.mp3\";\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"assets/1ff6278e665fa87ff6a8fc3e49934080.mp3\";\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"assets/f05886dae2de6e39e4b9f1307bd8891e.mp3\";\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"assets/68ce6313493ca5cb9bb007809d416e1f.mp3\";\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 577e14fb55137162b770","/**\n * Shared event manifest for the entire app to use.\n */\n\nexport const EVT_MESSAGE_RECEIVED = 'EVT_MESSAGE_RECEIVED'\nexport const EVT_CHOICES_RECEIVED = 'EVT_CHOICES_RECEIVED'\nexport const EVT_SEND_INITIAL_PHOTOS = 'EVT_SEND_INITIAL_PHOTOS'\nexport const EVT_CHOICE_SELECTED = 'EVT_CHOICE_SELECTED'\nexport const EVT_PUZZLE_SUCCESS = 'EVT_PUZZLE_SUCCESS'\nexport const EVT_PUZZLE_DATA_SENT = 'EVT_PUZZLE_DATA_SENT'\nexport const EVT_PUZZLE_FAIL = 'EVT_PUZZLE_FAIL'\nexport const EVT_ADVANCE_GAME_STATE = 'EVT_ADVANCE_GAME_STATE'\nexport const EVT_TAB_NOTIFY = 'EVT_TAB_NOTIFY'\nexport const EVT_PUZZLE_FIRST_OPEN = 'EVT_PUZZLE_FIRST_OPEN'\nexport const EVT_FAILGAME = 'EVT_FAILGAME'\nexport const EVT_PLAY_SOUND = 'EVT_PLAY_SOUND'\nexport const EVT_IMPATIENT_TAP = 'EVT_IMPATIENT_TAP'\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/events.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"hidden\":\"shared__main__hidden_116d0f\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shared/main.css\n// module id = 1\n// module chunks = 0","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/is-function/index.js\n// module id = 2\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"winBlue\":\"#2b0081\",\"appWrapper\":\"app__style__appWrapper_51bd3e\",\"appHeader\":\"app__style__appHeader_320435\",\"closeBut\":\"app__style__closeBut_d04839\",\"tabNav\":\"app__style__tabNav_1038d3\",\"activeTab\":\"app__style__activeTab_d5cd6c\",\"visibleTab\":\"app__style__visibleTab_b40f2e\",\"tabNotify\":\"app__style__tabNotify_f5199c\",\"appTabWindow\":\"app__style__appTabWindow_d994a7\",\"appTabWrapper\":\"app__style__appTabWrapper_c83871\",\"activeContent\":\"app__style__activeContent_cc741e\",\"appFooter\":\"app__style__appFooter_413425\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/style.css\n// module id = 3\n// module chunks = 0","import * as Events from './events'\n\n/**\n * The game 'script'.\n * Defines 'chapters' of the story made up of a list of\n * chat messages.\n *\n * A message can have the following props:\n *\n *  - chat: which chat window this belongs to\n *  - text: text to be shown for the message\n *  - event: an event which the GameState can fire when this message is received\n *  - choices: an array of options for the player to choose from\n *\n * Choices can have the following:\n *\n *  - text: label for the option\n *  - goto: which chapter ID to go to when this option is selected\n *\n */\n\nexport const CHAT_A = 'agentA'\nexport const CHAT_B = 'agentB'\n\nexport default {\n  chapters: {\n    'intro1': [\n      {\n        chat: CHAT_A,\n        text: '*** INCOMING TRANSMISSION... ***',\n      },\n      {\n        chat: CHAT_A,\n        text: 'Agent 045, you have now been activated. Please respond.'\n      },\n      {\n        chat: CHAT_A,\n        choices: [\n          {\n            text: 'Uh, I think you have the wrong number',\n            goto: 'activated',\n          },\n          {\n            text: 'This is Agent 045, waiting command',\n            goto: 'activated',\n          }\n        ]\n      }\n    ],\n\n    'activated': [\n      {\n        chat: CHAT_A,\n        text: 'Ah good, you\\'re there. We have a situation here that we need you immediate assistance with.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'We\\'ve been locked out of remote access points in your area that we need reconnected to asap.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'We need you to locate the access points, get pass the encryption software, and wire through the information packs directly via uplink.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'Unfortunately due to the hack, we don\\'t have exact geolocations, only images of the locations in question, but they\\'re all near by and should be easy enough to find, given your familiarity with the area.',\n      },\n      {\n        chat: CHAT_A,\n        choices: [\n          {\n            text: 'What do you mean by \"the hack\"?',\n            goto: 'noquestions',\n          },\n          {\n            text: 'What is this?!',\n            goto: 'noquestions',\n          }\n        ]\n      }\n    ],\n\n    'noquestions': [\n      {\n        chat: CHAT_A,\n        text: 'We don\\'t have time for questions right now Agent 045, please get the information packets as soon as possible. The security of the entire world is at stake.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'Check your Media tab, there you\\'ll find the 5 remote access points we need you to reconnect to command.',\n        event: Events.EVT_SEND_INITIAL_PHOTOS\n      },\n      {\n        chat: CHAT_A,\n        text: 'When you find an access point, look for our logo, you\\'ll find a password that you need to input to corresponding photo.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'We\\'ll contact you again when you\\'ve reached access point 1.'\n      },\n      {\n        chat: CHAT_A,\n        choices: [\n          {\n            text: 'O...k?',\n            goto: null,\n          },\n          {\n            text: 'Understood command, over and out',\n            goto: null,\n          }\n        ]\n      }\n    ],\n\n    'tutorial': [\n      {\n        chat: CHAT_A,\n        text: 'Well done Agent 045, this is excellent.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'Now you just have to decode the access to enable us to download the package.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'It should be extremely straightforward for someone of your elite skill set.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'Simply slides the blocks into the right location and we should be granted access.'\n      }\n    ],\n\n    'firstpuzzlecomplete': [\n      {\n        chat: CHAT_A,\n        text: 'Perfect Agent 045, now please send the information packed to us over your secure network connection.'\n      }\n    ],\n\n    'firstpuzzlesent': [\n      {\n        chat: CHAT_A,\n        text: 'Fantastic work Agent 045, please proceed to the next package for more information.',\n        event: Events.EVT_FIRST_NEWS_ARTICLE\n      }\n    ],\n\n    'strangepackage': [\n      {\n        chat: CHAT_A,\n      \tchoices: [\n          {\n            text: 'What is this text about?',\n            goto: 'donotread',\n          },\n          {\n            text: 'Sir, this packet is quite odd…',\n            goto: 'donotread',\n          }\n        ]\n      }\n    ],\n\n    'donotread': [\n      {\n        chat: CHAT_A,\n        text: 'Agent 045, are you READING the highly CLASSIFIED information in these packets?!'\n      },\n      {\n        chat: CHAT_A,\n        text: 'Because we need you to access the files to send them to us, you\\'ll inherently gain access, but I am stressing that these are HIGHLY CLASSIFIED FILES.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'DO NOT READ THEM UNDER ANY CIRCUMSTANCES.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'IT IS A FEDERAL OFFENCE TO READ THESE FILES WITHOUT THE CORRECT LEVEL OF AUTHORISATION.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'Do no read the files, just send them straight to us, understand? That\\'s a command soldier.'\n      },\n      {\n        chat: CHAT_A,\n        choices: [\n          {\n            text: 'Understood sir. ',\n            goto: 'understoodrisk',\n          },\n          {\n            text: 'Or what?',\n            goto: 'yourownrisk',\n          }\n        ]\n      }\n    ],\n\n    'understoodrisk': [\n      {\n        chat: CHAT_B,\n        text: 'Agent 045. Do not trust Agent B.'\n      },\n      {\n        chat: CHAT_B,\n        choices: [\n          {\n            text: 'What to you mean?',\n            goto: 'thewarning'\n          },\n          {\n            text: 'I have no idea what you\\'re talking about.',\n            goto: 'thewarning'\n          }\n        ]\n      }\n    ],\n\n    'yourownrisk': [\n      {\n        chat: CHAT_A,\n        text: '…'\n      },\n      {\n        chat: CHAT_A,\n        text: 'Well, I guess there\\'s nothing we can do, we need those files.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'Read them at your own risk, just send them to us. We\\'ll sort that issue once we get this resolved.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent 045. Do not trust Agent B.'\n      },\n      {\n      \tchat: CHAT_B,\n        choices: [\n          {\n            text: 'What do you mean?',\n            goto: 'thewarning',\n          },\n          {\n            text: 'I have no idea what you\\'re talking about.',\n            goto: 'thewarning',\n          }\n        ]\n      }\n    ],\n\n    'thewarning': [\n      {\n        chat: CHAT_B,\n        text: 'You\\'ve been warned.'\n      },\n      {\n      \tchat: CHAT_B,\n        choices: [\n          {\n            text: 'Wait! I want to know what\\'s going on!',\n            goto: null,\n          },\n          {\n            text: 'I don\\'t know you, be gone scum.',\n            event: Events.EVT_SECOND_NEWS_ARTICLE,\n            goto: null,\n          }\n        ]\n      }\n    ],\n\n    'readfile': [\n      {\n        chat: CHAT_B,\n        text: 'Read the file.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Do you see the kind of information you\\'re dealing with here.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Do you really trust this kind of information with Agent B?'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Do you even know who they are?'\n      },\n      {\n      \tchat: CHAT_B,\n        choices: [\n          {\n            text: 'Well who are you then?',\n            goto: 'foolish',\n          },\n          {\n            text: 'Do you know who they are?',\n            goto: 'foolish',\n          }\n        ]\n      }\n    ],\n\n    'foolish': [\n      {\n        chat: CHAT_B,\n        text: 'Don\\'t be foolish.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Keep your wits about you.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Don\\'t blindly do what they tell you too.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Don\\'t tell them about our conversation.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'What was that?'\n      },\n      {\n        chat: CHAT_A,\n        text: 'Keep your wits about you.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'Did you do something?'\n      },\n      {\n      \tchat: CHAT_A,\n        choices: [\n          {\n            text: 'What do you mean?',\n            goto: 'oddsignal',\n          }\n        ]\n      }\n    ],\n\n    'oddsignal': [\n      {\n        chat: CHAT_A,\n        text: ' I picked up an odd signal there.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'It was very faint, but I thought I saw…'\n      },\n      {\n        chat: CHAT_A,\n        text: 'Maybe it was nothing. Did you see anything strange?'\n      },\n      {\n      \tchat: CHAT_A,\n        choices: [\n          {\n            text: 'Nothing on this end.',\n            goto: 'wisechoice',\n          },\n          {\n            text: 'Do you mean Agent R?',\n            goto: 'unwisechoice',\n          }\n        ]\n      }\n    ],\n\n    'wisechoice': [\n      {\n        chat: CHAT_A,\n        text: ' Ok. Just let me know if you anything comes up.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'If you continue with this, I can share an extra information pack with you.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Keep up the pretense.'\n      },\n      {\n      \tchat: CHAT_B,\n        choices: [\n          {\n            text: 'Who are you?',\n            goto: 'goingon',\n          },\n          {\n            text: 'What\\'s going on?',\n            event: Events.EVT_THIRD_NEWS_ARTICLE,\n            goto: 'goingon',\n          }\n        ]\n      }\n    ],\n\n    'goingon': [\n      {\n        chat: CHAT_B,\n        text: ' That\\'s not important right now. The safety of the world is at stake, just make it to the packets and I\\'ll tell you what to do from there. '\n      }\n    ],\n\n    'unwisechoice': [\n      {\n        chat: CHAT_A,\n        text: ' Agent R?! DO NOT ENGAGE, I repeat, DO NOT ENGAGE with Agent R! They are not to be trusted! '\n      },\n      {\n        chat: CHAT_A,\n        text: 'Do not engage them under any circumstances. They are the enemy.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'What have you done! Do you want to destroy us all?!'\n      },\n      {\n        chat: CHAT_B,\n        text: 'If you do as Agent B says, we\\'re all doomed!'\n      },\n      {\n      \tchat: CHAT_B,\n        choices: [\n          {\n            text: 'How am I meant to trust you?',\n            goto: 'trust',\n          },\n          {\n            text: 'Why?!',\n            goto: 'trust',\n          }\n        ]\n      }\n    ],\n\n    'trust': [\n      {\n        chat: CHAT_B,\n        text: ' There\\'s no time to explain right now, you just have to trust me.'\n      },\n      {\n        chat: CHAT_B,\n        text: ' Get to the next info packet. Act as normal.'\n      },\n      {\n        chat: CHAT_B,\n        text: ' If you\\'re interested in saving the planet, you\\'ll do as I say.',\n        event: Events.EVT_THIRD_NEWS_ARTICLE,\n      }\n    ],\n\n    'helloagents': [\n      {\n        chat: CHAT_B,\n        text: 'Agent B: So, here you are.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: I guess you found me.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: We\\'ve tracked you Agent R. You\\'ve nowhere to hide.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: We won\\'t let you get a hold of the info packet.'\n      },\n      {\n       \tchat: CHAT_B,\n        choices: [\n          {\n            text: 'You\\'re damn right!',\n            goto: 'agentb1',\n          },\n          {\n            text: 'I don\\'t think so.',\n            goto: 'agentr1',\n          }\n        ]\n      }\n    ],\n\n    'agentb1': [\n      {\n        chat: CHAT_B,\n        text: 'Agent B: Ha!'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: 045… I thought you were better than this.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: You\\'re signing your own death warrant.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: Don\\'t be ridiculous.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: Get to the last info point Agent 045.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: Then we can annihilate this scum.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: There\\'s still time.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: I hope that when the time comes, you\\'ll make the right choice.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: Idiot. '\n      }\n    ],\n\n    'agentr1': [\n      {\n        chat: CHAT_B,\n        text: 'Agent B: Excuse me??'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: I think you heard them B.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: They won\\'t be helping you anymore.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: Are you an idiot?!'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: You\\'ll be helping a physcopath!'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: This will start world war 3!'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: Don\\'t waste your breath B. They\\'ve made their choice.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: We won\\'t start a war, we\\'ll be ending it.'\n      },\n        {\n        chat: CHAT_B,\n        text: 'Agent B: I beg of you, please. You still have time to change your mind.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: When the time comes, send the pack to me.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: Idiot.',\n        event: Events.EVT_FOURTH_NEWS_ARTICLE\n      }\n    ],\n\n    'bluepacket': [\n      {\n        chat: CHAT_B,\n        text: 'Agent B: Well done Agent 045, you\\'ve made the correct decision.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: Oh god. What have you done.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: Exactly what he was meant to, R.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: I hope you\\'ve enjoyed your time on this earth.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: You will be rewarded Agent 045.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: You\\'ve doomed us all.',\n        event: Events.EVT_FIFTHB_NEWS_ARTICLE\n      }\n    ],\n\n    'redpacket': [\n      {\n        chat: CHAT_B,\n        text: 'Agent R: Well done Agent 045, you\\'ve made the correct decision.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: Oh god. What have you done.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: Exactly what he was meant to, R.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: I hope you\\'ve enjoyed your time on this earth.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent R: You will be rewarded Agent 045.'\n      },\n      {\n        chat: CHAT_B,\n        text: 'Agent B: You\\'ve doomed us all.',\n        event: Events.EVT_FIFTHR_NEWS_ARTICLE\n      }\n    ],\n\n    'failstate1': [\n      {\n        chat: CHAT_A,\n        text: '045! Be very careful, you\\'ll get locked out if you try to hack the access point incorrectly.'\n      }\n    ],\n\n    'failstate2': [\n      {\n        chat: CHAT_A,\n        text: 'Agent. This is your last warning. DO NOT FAIL AGAIN.'\n      }\n    ],\n\n    'failstate3': [\n      {\n        chat: CHAT_A,\n        text: 'You\\'ve proven yourself unable to handle this mission. You will not be contacted again.',\n        event: Events.EVT_FAILGAME\n      }\n    ],\n\n    'tempwin': [\n      {\n        chat: CHAT_A,\n        text: 'Well done, Agent 045!'\n      },\n      {\n        chat: CHAT_A,\n        text: 'You\\'ve proven yourself quite capable in the field.'\n      },\n      {\n        chat: CHAT_A,\n        text: 'We\\'ll be in touch again soon.'\n      },\n      {\n        chat: CHAT_A,\n        text: '*** TRANSMISSION ENDED ***'\n      }\n    ]\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/data/gamescript.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"chatBlue\":\"#d1d1ff\",\"chatGreen\":\"#d1ffd1\",\"chatRed\":\"#ffd1d1\",\"conversationPanel\":\"chat__chat__conversationPanel_982aae\",\"msgPanel\":\"chat__chat__msgPanel_128da4\",\"msg\":\"chat__chat__msg_40734c\",\"reveal\":\"chat__chat__reveal_91caa2\",\"agentA\":\"chat__chat__agentA_b11783\",\"agentB\":\"chat__chat__agentB_1dd93a\",\"player\":\"chat__chat__player_ecf56e\",\"choicePanel\":\"chat__chat__choicePanel_29a146\",\"choiceButton\":\"chat__chat__choiceButton_913795\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/chat/chat.css\n// module id = 5\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"mediaPanel\":\"media__media__mediaPanel_b4417a\",\"mediaList\":\"media__media__mediaList_437845\",\"imageThumbnail\":\"media__media__imageThumbnail_cfdc06\",\"unavailable\":\"media__media__unavailable_405d0b\",\"mediaDetail\":\"media__media__mediaDetail_de48e3\",\"mediaPacket\":\"media__media__mediaPacket_9779ff\",\"formRow\":\"media__media__formRow_c89747\",\"packetHeader\":\"media__media__packetHeader_cd5f7b\",\"errorMsg\":\"media__media__errorMsg_b3148a\",\"complete\":\"media__media__complete_9db300\",\"monochrome\":\"media__media__monochrome_52c7d6\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/media/media.css\n// module id = 6\n// module chunks = 0","import request from 'request'\n\nimport 'shared/main.css'\nimport './manifest.json'\nimport './favicon.gif'\nimport './game.html'\n\nimport App from './app'\n\nconst splashEl = document.querySelector('#splash-inner')\nconst customEl = document.querySelector('#custom-game')\nconst startButtons = splashEl.querySelector('#start-buttons')\nconst storyButEl = splashEl.querySelector('button[data-story]')\nconst quickButEl = splashEl.querySelector('button[data-quick]')\n\nif (window.location.hash.substr(1,7) === 'custom:') {\n  const cfgBase = window.location.hash.substr(8)\n  try {\n    const cfgUrl = atob(cfgBase)\n    console.info('Found custom game URL:', cfgUrl)\n    console.info('Fetching...')\n    customEl.innerHTML = 'Loading...'\n    request(cfgUrl, (err, resp, body) => {\n      if (err) throw err;\n      const customData = JSON.parse(body)\n      console.info('Got custom game', customData)\n      customEl.innerHTML = `<h4>${customData.meta.title}</h4> by <strong>${customData.meta.author}</strong>`\n      window.customData = customData\n    })\n  } catch (e) {\n    console.warn('Could not decode custom config string or fetch custom game.', e)\n  }\n}\n\nfunction startGame(isQuickPlay = false) {\n  if (isQuickPlay) console.info('Starting quickplay mode...')\n  window.quickPlay = isQuickPlay\n\n  document.querySelector('#splash-inner').style.display = 'none'\n  setTimeout(() => {\n    const app = new App()\n    app.start()\n  }, (isQuickPlay ? 1 : 1000))\n}\n\nstoryButEl.addEventListener('click', e => { startGame() })\nquickButEl.addEventListener('click', e => { startGame(true) })\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","\"use strict\";\nvar window = require(\"global/window\")\nvar isFunction = require(\"is-function\")\nvar parseHeaders = require(\"parse-headers\")\nvar xtend = require(\"xtend\")\n\nmodule.exports = createXHR\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop\ncreateXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n        options = initParams(uri, options, callback)\n        options.method = method.toUpperCase()\n        return _createXHR(options)\n    }\n})\n\nfunction forEachArray(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n        iterator(array[i])\n    }\n}\n\nfunction isEmpty(obj){\n    for(var i in obj){\n        if(obj.hasOwnProperty(i)) return false\n    }\n    return true\n}\n\nfunction initParams(uri, options, callback) {\n    var params = uri\n\n    if (isFunction(options)) {\n        callback = options\n        if (typeof uri === \"string\") {\n            params = {uri:uri}\n        }\n    } else {\n        params = xtend(options, {uri: uri})\n    }\n\n    params.callback = callback\n    return params\n}\n\nfunction createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback)\n    return _createXHR(options)\n}\n\nfunction _createXHR(options) {\n    if(typeof options.callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n\n    var called = false\n    var callback = function cbOnce(err, response, body){\n        if(!called){\n            called = true\n            options.callback(err, response, body)\n        }\n    }\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            setTimeout(loadFunc, 0)\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else {\n            body = xhr.responseText || getXml(xhr)\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n        }\n        evt.statusCode = 0\n        return callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        if (aborted) return\n        var status\n        clearTimeout(timeoutTimer)\n        if(options.useXDR && xhr.status===undefined) {\n            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n            status = 200\n        } else {\n            status = (xhr.status === 1223 ? 204 : xhr.status)\n        }\n        var response = failureResponse\n        var err = null\n\n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        return callback(err, response, response.body)\n    }\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new createXHR.XDomainRequest()\n        }else{\n            xhr = new createXHR.XMLHttpRequest()\n        }\n    }\n\n    var key\n    var aborted\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n    var failureResponse = {\n        body: undefined,\n        headers: {},\n        statusCode: 0,\n        method: method,\n        url: uri,\n        rawRequest: xhr\n    }\n\n    if (\"json\" in options && options.json !== false) {\n        isJson = true\n        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n            body = JSON.stringify(options.json === true ? body : options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.onabort = function(){\n        aborted = true;\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            if (aborted) return\n            aborted = true//IE9 may still call readystatechange\n            xhr.abort(\"timeout\")\n            var e = new Error(\"XMLHttpRequest timeout\")\n            e.code = \"ETIMEDOUT\"\n            errorFunc(e)\n        }, options.timeout )\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers && !isEmpty(options.headers)) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n\n    if (\"beforeSend\" in options &&\n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n    xhr.send(body || null)\n\n    return xhr\n\n\n}\n\nfunction getXml(xhr) {\n    // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n    try {\n        if (xhr.responseType === \"document\") {\n            return xhr.responseXML\n        }\n        var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\"\n        if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n            return xhr.responseXML\n        }\n    } catch (e) {}\n\n    return null\n}\n\nfunction noop() {}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/xhr/index.js\n// module id = 8\n// module chunks = 0","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/global/window.js\n// module id = 9\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 10\n// module chunks = 0","var trim = require('trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/parse-headers/parse-headers.js\n// module id = 11\n// module chunks = 0","\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/trim/index.js\n// module id = 12\n// module chunks = 0","var isFunction = require('is-function')\n\nmodule.exports = forEach\n\nvar toString = Object.prototype.toString\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n        throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n        context = this\n    }\n    \n    if (toString.call(list) === '[object Array]')\n        forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n        forEachString(list, iterator, context)\n    else\n        forEachObject(list, iterator, context)\n}\n\nfunction forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            iterator.call(context, array[i], i, array)\n        }\n    }\n}\n\nfunction forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        iterator.call(context, string.charAt(i), i, string)\n    }\n}\n\nfunction forEachObject(object, iterator, context) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            iterator.call(context, object[k], k, object)\n        }\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/for-each/index.js\n// module id = 13\n// module chunks = 0","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/xtend/immutable.js\n// module id = 14\n// module chunks = 0","module.exports = __webpack_public_path__ + \"/manifest.json\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/manifest.json\n// module id = 15\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/bfa6e5b8517c664c26164afae6f66b6c.gif\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/favicon.gif\n// module id = 16\n// module chunks = 0","module.exports = __webpack_public_path__ + \"/game.html\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/game.html\n// module id = 17\n// module chunks = 0","import { dom } from 'shared/utils'\nimport template from './template'\nimport styles from './style.css'\n\nimport Emitter from 'core/Emitter'\nimport SoundPlayer from 'core/SoundPlayer'\n\nimport GameState from './GameState'\nimport ChatTab from 'modules/chat/ChatTab'\nimport MediaTab from 'modules/media/MediaTab'\n\nimport { CHAT_A, CHAT_B } from 'data/gamescript'\nimport { EVT_TAB_NOTIFY, EVT_PLAY_SOUND } from 'data/events'\nimport sounds from 'data/sounds'\n\n/**\n * Main app UI class.\n *\n * - Composes the tab modules, event emitter and game\n * state\n * - Determines the available tabs and their default state\n * - Handles tab switching and visibility/rendering\n * - Initialises the tab modules\n * - Shares an Emitter instance between itself, game state and tab modules\n */\n\nclass App {\n  constructor() {\n    this.initialTabId = 'ChatA'\n\n    this.appEl = document.body\n    this.tabData = [\n      {\n        id: 'ChatA',\n        label: '???',\n        visible: true,\n        module: new ChatTab(CHAT_A)\n      },\n      {\n        id: 'ChatB',\n        label: '???',\n        visible: false,\n        module: new ChatTab(CHAT_B)\n      },\n      {\n        id: 'Media',\n        label: 'Media',\n        visible: window.quickPlay,\n        module: new MediaTab()\n      }\n    ]\n    this.tabDataIds = this.tabData.map(td => td.id)\n\n    this.soundplayer = new SoundPlayer(sounds)\n    console.log(this.soundplayer)\n    this.emitter = new Emitter()\n    this.gamestate = new GameState(this.emitter)\n\n    window.emitter = this.emitter\n  }\n\n  start() {\n    // Render app shell\n    this.el = dom(template)\n    this.appEl.innerHTML = ''\n    this.appEl.appendChild(this.el)\n\n    // Header close button\n    this.closeButEl = this.el.querySelector(`.${styles.closeBut}`)\n    this.closeButEl.addEventListener('click', e => {\n      window.location.reload()\n    })\n\n    // DOM areas for nav and content\n    this.navEl = this.el.querySelector(`.${styles.tabNav}`)\n    this.contentEl = this.el.querySelector(`.${styles.appTabWindow}`)\n\n    // Handle tab modules\n    this.tabData.forEach((tdata, idx) => {\n\n      // Create nav item\n      const tabNavEl = document.createElement('button')\n      tabNavEl.textContent = tdata.id\n      tabNavEl.dataset.tabId = tdata.id\n      if (tdata.visible) tabNavEl.classList.add(styles.visibleTab)\n\n      tabNavEl.addEventListener('click', e => {\n        const t = e.srcElement\n        this.setActiveTab(t.dataset.tabId)\n      })\n\n      this.navEl.appendChild(tabNavEl)\n      tdata._navEl = tabNavEl\n\n      // Init module\n      if (!tdata.module) return false\n\n      // Render tab template into container\n      const tabWrapEl = document.createElement('div')\n      tabWrapEl.classList.add(styles.appTabWrapper)\n      const tabContentEl = dom(tdata.module.template)\n      tabWrapEl.appendChild(tabContentEl)\n      this.contentEl.appendChild(tabWrapEl)\n\n      tdata._wrapEl = tabWrapEl\n      tdata._contentEl = tabContentEl\n\n      tdata.module.init(tdata.id, tabContentEl, this.emitter)\n    })\n\n    // Bind sound event\n    this.emitter.bind(EVT_PLAY_SOUND, (soundId) => {\n      this.soundplayer.play(soundId)\n    }, this)\n\n    // Show notification on tabs if not the current one\n    this.emitter.bind(EVT_TAB_NOTIFY, (tabId) => {\n      if (tabId !== this.activeTab) {\n        this.setTabNotification(tabId)\n      }\n    }, this)\n\n    // Render initial tab\n    this.setActiveTab(this.initialTabId)\n    this.gamestate.init()\n\n    setTimeout(() => {\n      this.emitter.dispatch(EVT_PLAY_SOUND, 'appstart')\n    }, 1000)\n  }\n\n  setActiveTab(tabId) {\n    const tidx = this.tabDataIds.indexOf(tabId)\n    if (tidx === -1 || !this.tabData[tidx].visible) return false\n\n    this.tabData.forEach(tab => {\n      const fn = (tab.id === tabId) ? 'add' : 'remove'\n      tab._navEl.classList[fn](styles.activeTab)\n      tab._wrapEl.classList[fn](styles.activeContent)\n      if (tab.id === tabId) tab._navEl.classList.remove(styles.tabNotify)\n    })\n\n    this.activeTab = tabId\n\n    return true\n  }\n\n  setTabVisibility(tabId, isVisible = true) {\n    const tidx = this.tabDataIds.indexOf(tabId)\n    if (tidx === -1) return false\n\n    const fn = (isVisible) ? 'add' : 'remove'\n    this.tabData[tidx]._navEl.classList[fn](styles.visibleTab)\n    this.tabData[tidx]._wrapEl.classList[fn](styles.visibleContent)\n    this.tabData[tidx].visible = isVisible\n  }\n\n  setTabNotification(tabId) {\n    if (tabId === this.activeTab) return false\n\n    const tidx = this.tabDataIds.indexOf(tabId)\n    if (tidx === -1) return false\n\n    this.setTabVisibility(tabId, true)\n    this.tabData[tidx]._navEl.classList.add(styles.tabNotify)\n  }\n}\n\nexport default App\n\n\n// WEBPACK FOOTER //\n// ./src/app/index.js","\nexport function dom (tplStr) {\n  const wrap = document.createElement('template')\n  wrap.innerHTML = tplStr\n  return wrap.content.firstElementChild\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/utils.js","import style from './style.css'\n\nexport default `\n<div id=\"main\" class=\"${style.appWrapper}\">\n  <header class=\"${style.appHeader}\">\n    <h1>ISeekU v1.0.3a</h1>\n    <button class=\"${style.closeBut}\">X</button>\n  </header>\n  <nav class=\"${style.tabNav}\">\n  </nav>\n  <div class=\"${style.appTabWindow}\">\n    <!-- render tab contents here -->\n  </div>\n  <footer class=\"${style.appFooter}\">\n    Ready\n  </footer>\n</div>`\n\n\n// WEBPACK FOOTER //\n// ./src/app/template.js","const DEBUG = false\n/**\n * Basic event bus/dispatcher.\n */\nclass Emitter {\n  constructor() {\n    this.events = {}\n  }\n\n  bind(id, func, ctx) {\n    if (!(id in this.events)) {\n      DEBUG && console.log('Emitter:new event', id)\n      this.events[id] = []\n    }\n    this.events[id].push(func.bind(ctx))\n    return func\n  }\n\n  unbind(id, func) {\n    if (!(id in this.events)) return false\n\n    const idx = this.events[id].indexOf(func)\n    if (idx === -1) return false\n\n    this.events[id][idx] = undefined\n  }\n\n  dispatch(id, ...params) {\n    if (!(id in this.events)) {\n      DEBUG && console.warn('Emitter:no event found', id)\n      return false\n    }\n    DEBUG && console.log('Emitter:dispatch', id, ...params)\n    for (let i = 0, ln = this.events[id].length; i < ln; i++) {\n      this.events[id][i](...params)\n    }\n  }\n\n  unbindAll() {\n    this.events = {}\n  }\n}\n\nexport default Emitter\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Emitter.js","\nclass SoundPlayer {\n  constructor(manifest) {\n    console.log('manifest', manifest)\n\n    this.sounds = {}\n\n    for (let k in manifest) {\n      const aud = document.createElement('audio')\n      aud.autoplay = false\n      aud.controls = false\n      aud.loop = false\n      aud.src = manifest[k]\n\n      this.sounds[k] = {\n        id: k,\n        src: manifest[k],\n        el: aud\n      }\n    }\n  }\n\n  play(id) {\n    if (!(id in this.sounds)) return false\n    if (this.sounds[id].el.readystate < 2) return false\n    this.sounds[id].el.play()\n  }\n}\n\nexport default SoundPlayer\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/SoundPlayer.js","import ScriptReader from 'core/ScriptReader'\nimport gamescript, { CHAT_A, CHAT_B } from 'data/gamescript'\nimport {\n  EVT_ADVANCE_GAME_STATE,\n  EVT_CHOICE_SELECTED,\n  EVT_CHOICES_RECEIVED,\n  EVT_MESSAGE_RECEIVED,\n  EVT_PUZZLE_FAIL,\n  EVT_PUZZLE_SUCCESS,\n  EVT_PUZZLE_FIRST_OPEN,\n  EVT_PUZZLE_DATA_SENT,\n  EVT_TAB_NOTIFY,\n  EVT_SEND_INITIAL_PHOTOS,\n  EVT_FAILGAME,\n  EVT_PLAY_SOUND,\n  EVT_IMPATIENT_TAP\n} from 'data/events'\n\n/**\n * Internal module to handle game state.\n * Responsible for 'pushing out' new messages from the\n * game script and firing events that the tab modules\n * and app shell can respond to.\n *\n * Also handles all internal game logic for what happens\n * when certain events are fired (puzzle completion,\n * choices made by the player, etc)\n *\n * Renders no UI of its own.\n * Uses an Emitter instance passed into it.\n */\n\nclass GameState {\n  constructor(emitter) {\n    this.emitter = emitter\n    this.reader = new ScriptReader(gamescript)\n\n    this.initialChapter = 'intro1'\n    this.puzzleChapters = [\n      'firstpuzzlesent',\n      'strangepackage',\n      'readfile',\n      '',\n      'tempwin'\n    ]\n\n    this.choiceHistory = []\n\n    this.puzzleAttemptsLeft = 3\n    this.totalPuzzles = 5\n\n    if (window.isQuickplay) {\n      this.eventBindings = {\n        [EVT_PUZZLE_SUCCESS]: 'handlePuzzleSuccess',\n        [EVT_PUZZLE_FAIL]: 'handlePuzzleFail',\n        [EVT_FAILGAME]: 'handleGameOver'\n      }\n    } else {\n      this.eventBindings = {\n        [EVT_CHOICE_SELECTED]: 'handlePlayerDecision',\n        [EVT_PUZZLE_FIRST_OPEN]: 'handleFirstPuzzleOpen',\n        [EVT_PUZZLE_SUCCESS]: 'handlePuzzleSuccess',\n        [EVT_PUZZLE_DATA_SENT]: 'handlePuzzleDataSent',\n        [EVT_PUZZLE_FAIL]: 'handlePuzzleFail',\n        [EVT_SEND_INITIAL_PHOTOS]: 'handleFirstPhotos',\n        [EVT_ADVANCE_GAME_STATE]: 'advance',\n        [EVT_FAILGAME]: 'handleGameOver',\n        [EVT_IMPATIENT_TAP]: 'handleImpatientPlayer'\n      }\n    }\n\n    this.puzzleStatus = []\n    for (let i = 0; i < this.totalPuzzles; i++) {\n      this.puzzleStatus.push({\n        puzzleID: 0,\n        isComplete: false,\n        isSent: false\n      })\n    }\n  }\n\n  init() {\n    for (let ev in this.eventBindings) {\n      this.emitter.bind(ev, this[this.eventBindings[ev]], this)\n    }\n\n    if (window.quickPlay) {\n      this.sendQuickplayNotification('*** QUICKPLAY MODE ***')\n      this.sendQuickplayNotification(`Puzzles remaining: ${this.totalPuzzles - this.getCompletedPuzzleCount()}`)\n      this.emitter.dispatch(EVT_SEND_INITIAL_PHOTOS)\n    } else {\n      this.reader.init(this.initialChapter)\n      this.advance()\n    }\n  }\n\n  advance() {\n    const msg = this.reader.getNextMsg()\n\n    if (msg) {\n      if (msg.event) {\n        this.emitter.dispatch(msg.event)\n      }\n      if (msg.choices) {\n        this.emitter.dispatch(EVT_CHOICES_RECEIVED, msg)\n      } else {\n        this.msgFn = () => {\n          clearTimeout(this.msgTimeout);\n          this.msgFn = () => {};\n          this.emitter.dispatch(EVT_MESSAGE_RECEIVED, msg)\n          this.advance()\n        };\n        this.msgTimeout = setTimeout(this.msgFn, (window.quickPlay ? 1000 : 3000)) // TODO: calc time to display message\n      }\n    }\n  }\n\n  /* Quickplay */\n\n  sendQuickplayNotification (text) {\n   this.emitter.dispatch(EVT_MESSAGE_RECEIVED, {\n     text,\n     chat: CHAT_A,\n   })\n  }\n\n  /** Game logic and advancement callbacks */\n\n  getCompletedPuzzleCount() {\n    return this.puzzleStatus.filter(p => p.isComplete).length\n  }\n\n  getSentPuzzleDataCount() {\n    return this.puzzleStatus.filter(p => p.isComplete && p.isSent).length\n  }\n\n  handlePlayerDecision(choice) {\n    // TODO: handle game/state logic around selection\n    this.choiceHistory.push(choice)\n    this.reader.startChapter(choice.goto)\n    this.advance()\n  }\n\n  // When phots are first sent/Media tab revealed\n  handleFirstPhotos() {\n    this.emitter.dispatch(EVT_TAB_NOTIFY, 'Media')\n  }\n\n  // Chat tutorial when first decryption attempted\n  handleFirstPuzzleOpen() {\n    this.reader.startChapter('tutorial')\n    this.advance()\n  }\n\n  // Called when a puzzle is completed (decrypted)\n  handlePuzzleSuccess(puzzleId) {\n    this.puzzleStatus[puzzleId].isComplete = true\n\n    // Instructions after completing first puzzle\n    if (!window.quickPlay) {\n      if (this.getCompletedPuzzleCount() === 1) {\n        this.reader.startChapter('firstpuzzlecomplete')\n        this.advance()\n      }\n    }\n  }\n\n  // Called when a puzzle data is sent\n  handlePuzzleDataSent(puzzleId) {\n    this.puzzleStatus[puzzleId].isSent = true\n\n    // Response after first puzzle sent\n    if (window.quickPlay) {\n      this.sendQuickplayNotification(`Puzzles remaining: ${this.totalPuzzles - this.getCompletedPuzzleCount()}`)\n    } else  {\n      /*if (this.getSentPuzzleDataCount() === 1) {\n        this.reader.startChapter('firstpuzzlesent')\n        this.advance()\n      }\n      else if (this.getSentPuzzleDataCount() === 2) {\n        this.reader.startChapter('strangepackage');\n        this.advance();\n      }\n      else*/\n      const puzzleIndex = this.getSentPuzzleDataCount() - 1;\n      if (puzzleIndex === this.totalPuzzles) {\n        this.reader.startChapter('tempwin');\n        this.advance();\n      }\n      else if (this.puzzleChapters[puzzleIndex] !== '') {\n        this.reader.startChapter(this.puzzleChapters[puzzleIndex]);\n        this.advance();\n      }\n    }\n  }\n\n  // Fail messages if you screw up\n  handlePuzzleFail(puzzleId) {\n    this.puzzleAttemptsLeft--\n\n    if (this.puzzleAttemptsLeft > 1) {\n      this.reader.startChapter('failstate1')\n      this.advance()\n    } else if (this.puzzleAttemptsLeft > 0) {\n      this.reader.startChapter('failstate2')\n      this.advance()\n    } else if (this.puzzleAttemptsLeft === 0) {\n      this.reader.startChapter('failstate3')\n      this.advance()\n    }\n  }\n\n  // Allow players to advance the dialog quicker\n  handleImpatientPlayer() {\n    if (this.msgTimeout) {\n      clearTimeout(this.msgTimeout);\n      this.msgFn();\n    }\n  }\n\n  handleGameOver() {\n    // TODO: game over\n    console.log('GAME OVER')\n  }\n\n}\n\nexport default GameState\n\n\n// WEBPACK FOOTER //\n// ./src/app/GameState.js","/**\n * Utility class to read 'game script' data and keep\n * track of what chapter/message we're currently on.\n *\n * Exposes method for changing chapter and getting the\n * next message, if available, of the current one.\n */\n\nclass ScriptReader {\n  constructor(script) {\n    this.script = script\n    console.log('ScriptReader', this.script)\n  }\n\n  init(id) {\n    this.currentChapter = null\n    this.currentChapterId = null\n    this.chapterLength = 0\n    this.currentChapterMsgIdx = -1\n\n    if (id) this.startChapter(id)\n  }\n\n  startChapter(id) {\n    if (id === null) return false\n\n    if (!(id in this.script.chapters)) {\n      console.warn('ScriptReader: invalid chapter id', id)\n      return false\n    }\n    this.currentChapter = this.script.chapters[id]\n    this.currentChapterId = id\n    this.chapterLength = this.currentChapter.length\n    this.currentChapterMsgIdx = -1\n  }\n\n  getNextMsg() {\n    if (!this.currentChapter || this.currentChapterMsgIdx === this.chapterLength - 1) {\n      console.info('ScriptReader: no further messages in chapter', this.currentChapterId)\n      return false\n    }\n    this.currentChapterMsgIdx++\n    return this.currentChapter[this.currentChapterMsgIdx]\n  }\n}\n\nexport default ScriptReader\n\n\n// WEBPACK FOOTER //\n// ./src/core/ScriptReader.js","import template from './template'\nimport {\n  EVT_MESSAGE_RECEIVED,\n  EVT_CHOICES_RECEIVED,\n  EVT_CHOICE_SELECTED,\n  EVT_TAB_NOTIFY,\n  EVT_PLAY_SOUND,\n  EVT_IMPATIENT_TAP\n} from 'data/events'\nimport styles from './chat.css'\n\n/**\n * Class representing a Chat tab in the app.\n *\n * Will listen to 'incoming message' events and handle\n * any which have its id attached (see data/gamescript).\n *\n * Responsible for rendering messages and choices in its\n * own tab DOM, and firing appropriate events when the\n * player selects a choice from it.\n *\n * Uses a shared Emitter instance passed into its init()\n */\n\nclass ChatTab {\n  constructor(chatID) {\n    this.chatID = chatID\n    this.template = template\n  }\n\n  init (moduleId, el, emitter) {\n    this.id = moduleId\n    this.emitter = emitter\n\n    this.messageLog = []\n\n    // Cache refs to internal DOM for messages and choices\n    this.convoPanelEl = el.querySelector(`.${styles.conversationPanel}`) || el;\n    this.msgPanelEl = el.querySelector(`.${styles.msgPanel}`);\n    this.choicePanelEl = el.querySelector(`.${styles.choicePanel}`);\n\n    // Bind events for incoming messages/choices\n    this.emitter.bind(EVT_MESSAGE_RECEIVED,\n      this.handleIncomingMessage, this)\n\n    this.emitter.bind(EVT_CHOICES_RECEIVED,\n        this.handleIncomingMessage, this)\n    \n    this.msgPanelEl.addEventListener('click', () => {\n      this.emitter.dispatch(EVT_IMPATIENT_TAP);\n    });\n  }\n\n  handleIncomingMessage(msg) {\n    // Only handle messages for this instance\n    if (msg.chat !== this.chatID) return false\n\n    if (msg.choices) {\n      // Render in choices panel if there are some\n      this.displayChoices(msg.choices)\n    } else {\n      // Render message output\n      this.displayMessage(msg)\n    }\n    this.emitter.dispatch(EVT_TAB_NOTIFY, this.id)\n  }\n\n  displayMessage(msg) {\n    this.clearChoices()\n\n    // Render and log a message\n    const container = document.createElement('div');\n    container.classList.add(\n      styles.msg,\n      (msg.isPlayer) ? styles.player : styles[msg.chat]\n    );\n    container.textContent = msg.text;\n    this.msgPanelEl.appendChild(container);\n    this.messageLog.push(msg);\n    // Scroll to bottom of panel\n    this.convoPanelEl.scrollTop = this.msgPanelEl.scrollHeight\n\n    this.emitter.dispatch(EVT_PLAY_SOUND, 'not1')\n  }\n\n  displayChoices(options) {\n    // Render choices\n    this.clearChoices()\n\n    options.forEach(opt => {\n      const button = document.createElement('button');\n      button.classList.add(styles.choiceButton);\n      button.setAttribute('type', 'button');\n      button.textContent = opt.text;\n      button.addEventListener('click', () => {\n        // Make sure we render the selection in the\n        // message output\n        this.displayMessage({\n          chat: this.chatID,\n          text: opt.text,\n          isPlayer: true,\n        })\n        this.clearChoices()\n        this.emitter.dispatch(EVT_CHOICE_SELECTED, opt)\n      });\n      this.choicePanelEl.appendChild(button);\n    });\n    // Scroll to the bottom of the panel\n    if (this.convoPanelEl.offsetHeight < this.msgPanelEl.scrollHeight) {\n      this.convoPanelEl.scrollTop = this.convoPanelEl.scrollHeight;\n    }\n  }\n\n  clearChoices() {\n    this.choicePanelEl.innerHTML = ''\n  }\n\n}\n\nexport default ChatTab\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/chat/ChatTab.js","import styles from './chat.css'\n\nexport default `\n<div class=\"${styles.conversationPanel}\">\n    <div class=\"${styles.msgPanel}\"></div>\n    <div class=\"${styles.choicePanel}\"></div>\n</div>\n`\n\n\n// WEBPACK FOOTER //\n// ./src/modules/chat/template.js","import styles from './media.css';\nimport { hidden as hiddenCls } from 'shared/main.css';\nimport template from './template';\nimport defaultMediaList from 'data/media';\nimport {\n  EVT_PUZZLE_FAIL,\n  EVT_PUZZLE_SUCCESS,\n  EVT_SEND_INITIAL_PHOTOS,\n  EVT_PUZZLE_DATA_SENT\n} from 'data/events';\n\nlet mediaList\n\nclass MediaTab {\n  constructor() {\n    this.template = template\n  }\n\n  init (moduleId, el, emitter) {\n    mediaList = (window.customData) ? window.customData.images : defaultMediaList\n\n    this.id = moduleId;\n    this.emitter = emitter;\n    this.unencrypted = [];\n    this.transmittedPackets = [];\n\n    this.mediaPanel = el.querySelector(`.${styles.mediaPanel}`) || el;\n    this.mediaDetail = el.querySelector(`.${styles.mediaDetail}`);\n    this.mediaPacket = el.querySelector(`.${styles.mediaPacket}`);\n    this.mediaDetail.querySelector('#detail-cancel').addEventListener('click', () => {\n      this.closeDetails();\n    });\n    this.mediaDetail.querySelector('#detail-submit').addEventListener('click', () => {\n      this.checkPasscode();\n    });\n    this.mediaPacket.querySelector('#packet-transmit').addEventListener('click', () => {\n      this.transmitPacket()\n    })\n    this.emitter.bind(EVT_SEND_INITIAL_PHOTOS, () => {\n      for (let x = 0; x < 5; x++) {\n        this.releasePhoto(x);\n      }\n    }, this);\n  }\n\n  releasePhoto (index) {\n    if (index >= mediaList.length) {\n        return;\n    }\n\n    const imgContainer = this.mediaPanel.querySelector(`[data-index=\"${index}\"]`);\n    const imgEl = document.createElement('img');\n    imgEl.src = mediaList[index].url;\n    imgEl.dataset['index'] = index;\n    imgEl.addEventListener('click', () => {\n        this.onImageClick(imgEl);\n    });\n\n    imgContainer.classList.remove(styles.unavailable);\n    imgContainer.appendChild(imgEl);\n  }\n\n  onImageClick (imgEl) {\n    const index = imgEl.dataset.index;\n    if (this.unencrypted.includes(index)) {\n      // User has entered the correct passcode already, skip to the info packet\n      this.expandPacket(index);\n    }\n    else {\n      // User has not entered the correct passcode for this photo yet\n      this.expandDetails(imgEl);\n    }\n  }\n\n  expandDetails (imgEl) {\n    // Expand the detailed photo view\n    this.mediaDetail.appendChild(imgEl.cloneNode(false));\n    this.mediaDetail.classList.remove(hiddenCls);\n  }\n\n  closeDetails () {\n    // Close the detailed photo view\n    this.mediaDetail.querySelector('[name=\"passcode\"]').value = '';\n    this.mediaDetail.removeChild(this.mediaDetail.lastChild);\n    this.mediaDetail.querySelector(`.${styles.errorMsg}`).classList.add(hiddenCls);\n    this.mediaDetail.classList.add(hiddenCls);\n  }\n\n  checkPasscode () {\n    // If correct, close detail view and pass control to puzzle\n    const imgEl = this.mediaDetail.lastChild;\n    const passcodeEl = this.mediaDetail.querySelector('[name=\"passcode\"]');\n    const index = imgEl.dataset.index;\n\n    if (index >= mediaList.length) {\n      return false;\n    }\n\n    if ( passcodeEl.value === mediaList[index].passcode ) {\n      this.unencrypted.push(index);\n      this.mediaPanel.querySelector(`div[data-index=\"${index}\"]`).classList.add(styles.complete);\n      this.emitter.dispatch(EVT_PUZZLE_SUCCESS, index);\n      this.closeDetails();\n      this.expandPacket(index);\n    }\n    else {\n      this.emitter.dispatch(EVT_PUZZLE_FAIL, index);\n      this.mediaDetail.querySelector(`.${styles.errorMsg}`).classList.remove(hiddenCls);\n    }\n  }\n\n  expandPacket (index) {\n    // Display the contents of the specified info packet\n    const packetEl = this.mediaPacket.querySelector('#infoPacket');\n    packetEl.value = mediaList[index].payload;\n    packetEl.dataset.index = index;\n    this.mediaPacket.classList.remove(hiddenCls);\n  }\n\n  closePacket () {\n    const packetEl = this.mediaPacket.querySelector('#infoPacket');\n    packetEl.value = '';\n    packetEl.dataset.index = '';\n    this.mediaPacket.classList.add(hiddenCls);\n  }\n\n  transmitPacket () {\n    const packetEl = this.mediaPacket.querySelector('#infoPacket');\n    const index = packetEl.dataset.index;\n\n    if (!this.transmittedPackets.includes(index)) {\n      this.emitter.dispatch(EVT_PUZZLE_DATA_SENT, index);\n      this.transmittedPackets.push(index);\n    }\n    this.closePacket();\n  }\n};\n\nexport default MediaTab;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/media/MediaTab.js","import styles from './media.css';\nimport { hidden } from 'shared/main.css';\n\nlet imgContainersTemplate = '';\n\nfor (let i = 0; i < 5; i++) {\n    imgContainersTemplate += `<div data-index=\"${i}\" class=\"${styles.imageThumbnail} ${styles.unavailable}\"></div>`\n}\n\nexport default `\n<div class=\"${styles.mediaPanel}\">\n    <div class=\"${styles.mediaList}\">${imgContainersTemplate}</div>\n    <div class=\"${styles.mediaDetail} ${hidden}\">\n        <div class=\"${styles.formRow}\">\n            <label>Passcode:</label>\n            <input type=\"number\" name=\"passcode\">\n        </div>\n        <div class=\"${styles.errorMsg} ${hidden}\">\n            <span>Incorrect passcode provided.</span>\n        </div>\n        <div class=\"${styles.formRow}\">\n            <button id=\"detail-submit\" type=\"button\">Enter</button>\n            <button id=\"detail-cancel\" type=\"button\">Cancel</button>\n        </div>\n    </div>\n    <div class=\"${styles.mediaPacket} ${hidden}\">\n        <h1 class=\"${styles.packetHeader}\">Information Packet Uncovered</h1>\n        <textarea id=\"infoPacket\" class=\"${styles.monochrome}\" disabled></textarea>\n        <div class=\"${styles.formRow}\">\n            <button id=\"packet-transmit\" type=\"button\">Send</button>\n        </div>\n    </div>\n</div>\n`;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/media/template.js","import img1 from 'assets/location1.jpg';\nimport img2 from 'assets/location2.jpg';\nimport img3 from 'assets/location3.jpg';\nimport img4 from 'assets/location4.jpg';\nimport img5 from 'assets/location5.jpg';\n\nexport default [\n    {\n        id: 0,\n        url: img1,\n        passcode: '12345678',\n        payload: 'VGhlIG9wZXJhdGl2ZSBoYXMgcmVhY2hlZCB0aGUgYmFzZSBhdCBwb2ludCA1NMKwMzAnMjYuNSJOIDMwwrAyNCcwNS4zIkUuIFJlYWR5IHRvIGVuZ2FnZQ=='\n    },\n    {\n        id: 1,\n        url: img2,\n        passcode: '94850386',\n        payload: 'U2VydmVyIHNlY3VyaXR5IGNvZGVzIA0KDQo2Nzg5MDg3NjU0Njc4OTA0NTY0Mw0KNDM1NzY0MzU2NzY1NDM1Njc0MzMNCjIzNDU2Nzg5Nzc2NTM0NDU2Nzg4DQozMjQ0NTg2OTg3NzU2NDUyMzE0Mw0KMzI0NTY3ODY0NTY3ODg2NTQ2MzM='\n    },\n    {\n        id: 2,\n        url: img3,\n        passcode: '09274658',\n        payload: 'UHJlc2lkZW50IGxvY2F0aW9uczoNCg0KNTjCsDM1JzUyLjQiTiA4MsKwNDknNTIuOSJFDQo1OcKwMzAnMTYuNSJOIDk1wrAzOSczNi4yIkUNCjUywrAwOCcwNC45Ik4gODfCsDM1JzI0LjEiRQ=='\n    },\n    {\n        id: 3,\n        url: img4,\n        passcode: '09876543',\n        payload: 'TGlzdCBvZiBVUyAmIFJ1c3NpYSBkb3VibGUgYWdlbnRzOg0KDQpCZW4gQWRhbXMNClJldWJlbiBCcmFkbGV5DQpOZWlsbCBNY0NhbGxpb24NCktpdHR5IENyYXdmb3JkDQpBbnRvbiBHaWJuZXkNCkFicmFtIENocmlzdGlhbg0KQWx5b25hIE1hc2hhDQpBbmFzdGFpc2EgT2lzcA0KS3V6bWEgUmFkYQ0KTWFueWEgUmFpc2E='\n    },\n    {\n        id: 4,\n        url: img5,\n        passcode: '94769204',\n        payload: 'TnVjbGVhciBMYXVuY2ggY29kZXM6IA0KDQp1eTRpcmhid2Vha2ZqYjk4eXEwMnBqZWxrcWpkDQprYWVqaGZ1aXF5cjg5eTJoM2pla25xZHBqYW9pZg0Ka2VhaHNiZmloYXc5ODNocnFvaTNocm9rYWVqZg0KZWtqYmZ1aWV1cmh1b3d5M3JvcXV5cmlxdW9pcg=='\n    }\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/media.js","module.exports = __webpack_public_path__ + \"assets/39e3bf07418437d0ac0f0eed58c3c1f5.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/location1.jpg\n// module id = 30\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/d1ca928fb6bf6590e987636528bc2d57.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/location2.jpg\n// module id = 31\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/7d1dcda134565bb3865c195aaae3f876.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/location3.jpg\n// module id = 32\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/6bf32f35b5a054497897c1fe848b7932.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/location4.jpg\n// module id = 33\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/39d2614c41346f19b5f0e1133488a150.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/location5.jpg\n// module id = 34\n// module chunks = 0","import appstart from 'assets/appstart.mp3'\nimport fail1 from 'assets/fail1.mp3'\nimport intro1 from 'assets/intro1.mp3'\nimport not1 from 'assets/not1.mp3'\n\nexport default {\n  appstart,\n  fail1,\n  intro1,\n  not1\n}\n\n\n// WEBPACK FOOTER //\n// ./src/data/sounds.js","module.exports = __webpack_public_path__ + \"assets/e82359a05e0f47d825bef43b8f5e0b96.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/appstart.mp3\n// module id = 36\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/1ff6278e665fa87ff6a8fc3e49934080.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/fail1.mp3\n// module id = 37\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/f05886dae2de6e39e4b9f1307bd8891e.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/intro1.mp3\n// module id = 38\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/68ce6313493ca5cb9bb007809d416e1f.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/not1.mp3\n// module id = 39\n// module chunks = 0"],"sourceRoot":""}